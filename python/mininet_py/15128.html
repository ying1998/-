<!DOCTYPE html>
<html lang="zh-CN" xmlns:wb="http://open.weibo.com/wb">
<head>
<meta itemprop="inLanguage" content="zh-CN">
<meta property="wb:webmaster" content="edf9397ece8a1abe" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta property="qc:admins" content="725216167763464126375" />
<meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1.0, maximum-scale=1, user-scalable=no">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-57.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-72.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-114.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/iPhone/touch-144.png">
<meta charset="UTF-8" />
<meta name="viewport" content="initial-scale=1.0,user-scalable=no" />
<title>Mininet多个数据中心的拓扑网络实现 | SDNLAB | 专注网络创新技术</title><!-- 
<meta name="keywords" content="" />
 -->
<!-- xyz 44 queries in 0.713 seconds, using 12.89MB memory --><link rel="prefetch" href="https://www.sdnlab.com">
<link rel="prerender" href="https://www.sdnlab.com">
<link rel='stylesheet' id='wpzan-css'  href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/style.css?version=1523945847" type='text/css' media='all' />
<link rel='stylesheet' id='wpzan-css'  href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/common.css?version=1523945847" type='text/css' media='all' />
<link rel="pingback" href="https://www.sdnlab.com/my_sdnlab/xmlrpc.php" />

<!-- SEO Ultimate (http://www.seodesignsolutions.com/wordpress-seo/) -->
	<meta name="keywords" content="Mininet系列实验,Mininet,SDN,mbit/s。,执行过程如下图所示：" />
<!-- /SEO Ultimate -->

<link rel='stylesheet' id='validate-engine-css-css'  href='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/wysija-newsletters/css/validationEngine.jquery.css?ver=2.6.14' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-css'  href='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.6.8' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-shell-default-css'  href='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/crayon-syntax-highlighter/themes/shell-default/shell-default.css?ver=2.6.8' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-consolas-css'  href='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/crayon-syntax-highlighter/fonts/consolas.css?ver=2.6.8' type='text/css' media='all' />
<link rel='stylesheet' id='cntctfrm_stylesheet-css'  href='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/contact-form-plugin/css/style.css?ver=3.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='wpzan-css'  href='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/wp-zan/static/css/wp-zan-0.0.5.css?ver=0.0.5' type='text/css' media='all' />
<script type='text/javascript' src='https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/jquery.js?ver=1.7'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.6.8","is_admin":"0","ajaxurl":"https:\/\/www.sdnlab.com\/my_sdnlab\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.6.8'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpzan_ajax_url = "https:\/\/www.sdnlab.com\/my_sdnlab\/wp-admin\/admin-ajax.php";
/* ]]> */
</script>
<script type='text/javascript' src='https://www.sdnlab.com/my_sdnlab/wp-content/plugins/wp-zan/static/js/wp-zan.js?ver=0.0.5'></script>
<script type='text/javascript' src='https://www.sdnlab.com/my_sdnlab/wp-includes/js/swfobject.js?ver=2.2-20120417'></script>
<link rel='prev' title='OpenDaylight二层转发机制实验' href='https://www.sdnlab.com/15126.html' />
<link rel='next' title='sFlow流量监控实现DDoS防御' href='https://www.sdnlab.com/15130.html' />
<link rel='canonical' href='https://www.sdnlab.com/15128.html' />
<link rel='shortlink' href='https://www.sdnlab.com/?p=15128' />
<meta 
	property="og:image" 
	content="https://img1.sdnlab.com/wp-content/uploads/2015/05/pt-Mininet学习指南-2015-05-12.jpg"
/>

<meta 
	name="twitter:image" 
	content="https://img1.sdnlab.com/wp-content/uploads/2015/05/pt-Mininet学习指南-2015-05-12.jpg"
/>
		<style type="text/css">
			.wp-zan{
				color: #dd3333!important
			}
			.wp-zan:hover{
				color: #494949!important
			}
			.wp-zan.zaned{
				color: #353535!important
			}
		</style>
	<meta name="description" content="真实的SDN网络需要很多OpenFlow设备包括控制器、交换机、功能虚拟化等一系列设备共同依赖来搭建并应用，但因条件有限，每一位实验者不可能有这样真实的环境来验证或者实验，此处将主要介绍在没有OpenFlow硬件设备下模拟搭建通过Mininet基于不同数据中心的网络拓扑。使用Mininet设计模拟不同网络数据中心拓扑，可以用来分析网络的总流量，而且除此之外，还可以通过负载均衡策略来保证数据中心的可用性。不同数据中心网络拓扑管理设计，主要">
<!--[if lt IE 9]>
<![endif]-->
<script src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/html5.js" type="text/javascript"></script>
<link rel="shortcut icon" href="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/favicon.ico"  type="image/x-icon" />
<script>
    var local_url="https://www.sdnlab.com";
    var main_domain_name = 'https://www.sdnlab.com/';
</script>
</head>
<body class="single single-post postid-15128 single-format-standard" itemtype="http://schema.org/WebPage" itemscope="itemscope">
	<div class="browser-tips" style="border-bottom:1px solid #fff;display:none;"><span><img src="https://img1.sdnlab.com/wp-content/uploads/2016/05/jinggao.png"/></span>您正在使用IE低版浏览器，为了您的SDNLAB账号安全和更好的产品体验，强烈建议使用谷歌或者火狐浏览器 </div>
	
	<div class="jntp-tips clearfix">
	<div class="jntp-tips2" >
	<span class="jntp-tips-close" ></span>
		<div id="container-ad" class="banner-ad">
		
			  <ol>
                  <li><a target="_blank" class="jntp-tips-c" href="https://www.sdnlab.com/community/article/help/944" >知识社区“王者计划”发布，通过积分排名确定用户的不同段位，给予不同的奖励，共同打造活力社区！</a>

                  </li>
			      <li><a target="_blank" class="jntp-tips-c" href="https://www.sdnlab.com/18669.html" >SDN技能图谱强势降临，SDN应用开发工程师和NetDevOps工程师的制胜法宝，点我速览！</a>
			      
			      </li>
			     
			  </ol>
		</div>
	</div>
	</div>
	
	
	
	
	<div id="wrap" class="clearfix">
		<!--导航-->
		<div id="navigation-bg">
			<div class="nav-top">
				<div class="nav-top-left">
					<div class="logo">
						<a href="https://www.sdnlab.com">
							<img alt="logo-lg2" width="162" height="48" src="https://img2.sdnlab.com/wp-content-uploads/2017/05/16/sdnlablogo.svg">
						</a>
					</div>

				</div>
				<div class="nav-top-right" style="float:none;">

					<div id="nav-wrapper-bg"  style="display:inline-block;">
						<div class="nav-wrapper clearfix" id="nav">
							<div class="menu-container">
														
																																		<ul id="menu-nav" class="fancy-rollovers"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16687"><a href="https://www.sdnlab.com/" >首页</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10685"><a href="/events" >活动</a></li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-17897"><a target="_blank" href="https://edu.sdnlab.com" >未来网络学院</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12689"><a target="_blank" href="https://www.sdnlab.com/experimental-platform/" >实验平台</a></li>
<li class="menu-item-seminar menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18805"><a >特色</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18997"><a href="https://www.sdnlab.com/zhaopin/" >招聘</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18803"><a href="https://www.sdnlab.com/subject/" >专题</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-14913"><a href="https://www.sdnlab.com/sdn-guide/" >入门集</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16690"><a href="https://www.sdnlab.com/resource/" >资料库</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16689"><a href="https://www.sdnlab.com/book" >书籍</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16156"><a href="https://www.sdnlab.com/products" >产品库</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16705"><a href="https://www.sdnlab.com/topic-auction/" >话题竞拍</a></li>
</ul>
</li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-16688"><a target="_blank" href="/community" >知识社区</a></li>
</ul>
							</div>
						</div>
					</div>
					<ul class="clearfix nav-top-right2" style="float:right;">
						<li>
							<form role="search" method="get" action="https://www.sdnlab.com" >
								<a href="javascript:;" class="search_btn"><i class="icon-search"></i><span>搜索</span></a>
								<div class="nav-search">
									<button type="submit"><i class="icon-search"></i></button>
									<input type="text" name="s" id="s" placeholder="请输入您要查找的内容..." />
								</div>
							</form>
						</li>
						<li class="nav-top-right-m"> 
						  <a href="<?//php bloginfo('url')?>/contributions"   class="contribution-btn" ><i class="icon-contribute"></i><span>投稿</span></a> 
						 </li> 
						
                        <li id="unlogin_pc">
                            <a href="https://www.sdnlab.com/login?url_type=login&url=https%3A%2F%2Fwww.sdnlab.com%2F15128.html" class="login-trigger">
                                <i class="icon-login"></i>
                                <span>登录</span>
                            </a>
                            <span class="nav-line">|</span>
                            <a href="https://www.sdnlab.com/register?url_type=register&url=https%3A%2F%2Fwww.sdnlab.com%2F15128.html" class="regist-trigger">
                                <span>注册</span>
                            </a>
                        </li>

                        <li class="afterlogin" id="afterlogin_pc" style="display: none;">

                            <div class="user-hover">
                                <div class="user-click">
                                    <img id='user-head-img-pc' alt="comment reply" class="avatar avatar-35 photo avatar-default " height="35" width="35">
                                    <span class="user-name">
                                        <span id="user-name-pc"></span>
                                        <i class="user-arrow"></i>
                                    </span>
                                </div>
                                <div class="user-hide">
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/info-center#setting/basic"  data-href="#setting/basic">
                                            <i class="icon-baseinfo"></i><span class="user-hide-color">个人信息</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/info-center#favorite"  data-href="#favorite">
                                            <i class="icon-collect"></i><span class="user-hide-color">我的收藏</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/info-center#setting/pwd" data-href="#setting/pwd">
                                            <i class="icon-lock"></i><span class="user-hide-color">账号设置</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://edu.sdnlab.com/info-center-edu#" data-href="" target="_blank">
                                            <i class="icon-myvideo"></i><span class="user-hide-color">我的课程</span>
                                        </a>
                                    </div>
                                    <div class="user-hide-li">
                                        <a href="https://edu.sdnlab.com/info-center-edu?type=my_order" data-href="" target="_blank">
                                            <i class="icon-myorders"></i><span class="user-hide-color">我的订单</span>
                                        </a>
                                    </div>

                                    
                                    <div class="user-hide-li">
                                        <a href="https://www.sdnlab.com/?action=logout_platform&url=https%3A%2F%2Fwww.sdnlab.com%2F15128.html">
                                            <i class="icon-esc"></i><span class="user-hide-color">注销账号</span>
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </li>

					</ul>
				</div>
			</div>
		</div>

        

		<!--菜单栏-->
			<!--子菜单栏-->
		
		<!--end-->

		<!--悬浮固定菜单栏-->
		<div class="nav-wrapper-bg-fixed-hidden">
			<div id="nav-wrapper-bg-fixed">
				<div class="nav-wrapper" id="nav-fixed">
					<!-- <div class="logo">
					<a href="https://www.sdnlab.com"> 
						<img alt="logo-lg2" width="162" height="48" src="https://https://img1.sdnlab.com/wp-content/uploads/2015/03/logo15320.png">
					</a>
		        </div> -->
					<div class="menu-container">
					<div class="nav-top-left" style="float:left;position: relative;top:-6px;margin-right:20px;">
					<div class="logo">
						<a href="https://www.sdnlab.com">
							<img alt="logo-lg2" width="162" height="48" src="https://img2.sdnlab.com/wp-content-uploads/2017/05/16/sdnlablogo.svg">
						</a>
					</div>

				</div>
																																<ul id="menu-nav" class="fancy-rollovers"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16687"><a href="https://www.sdnlab.com/" >首页</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10685"><a href="/events" >活动</a></li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-17897"><a target="_blank" href="https://edu.sdnlab.com" >未来网络学院</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12689"><a target="_blank" href="https://www.sdnlab.com/experimental-platform/" >实验平台</a></li>
<li class="menu-item-seminar menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18805"><a >特色</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18997"><a href="https://www.sdnlab.com/zhaopin/" >招聘</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18803"><a href="https://www.sdnlab.com/subject/" >专题</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-14913"><a href="https://www.sdnlab.com/sdn-guide/" >入门集</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16690"><a href="https://www.sdnlab.com/resource/" >资料库</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16689"><a href="https://www.sdnlab.com/book" >书籍</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16156"><a href="https://www.sdnlab.com/products" >产品库</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16705"><a href="https://www.sdnlab.com/topic-auction/" >话题竞拍</a></li>
</ul>
</li>
<li class="menu-item-guide menu-item menu-item-type-custom menu-item-object-custom menu-item-16688"><a target="_blank" href="/community" >知识社区</a></li>
</ul>					</div>
				</div>
			</div>
		</div>
		<!--end-->
		<div class="nav-wrapper-bg-mobile">
			<div class="logo">
				<a href="https://www.sdnlab.com">
					<img alt="logo-lg2" width="162" height="48" style="margin-left:-7px;" src="https://img2.sdnlab.com/wp-content-uploads/2017/05/16/sdnlablogo.svg" />
				</a>
				<span class="header-mm" style="display:inline-block;float:right;"><a class="nav-m-display" href="#menu"  style="display:block;margin-top: 7px;"><img style="height: 30px;margin-right:7px;" src="https://img1.sdnlab.com/wp-content/uploads/images/meun-m.png"></a></span>
			</div>



			<!--  <div class="nav-mobile">
			<ul>
				
				<li id="news-mobile"><a href="/news">新闻</a></li>
				<li id="view-mobile"><a href="/view">观点</a></li>
				<li id="tech-mobile"><a href="/tech">技术</a></li>
				<li id="sdn-guide"><a href="/sdn-guide">入门集</a></li>
				<li id="odl-mobile"><a href="https://www.sdnlab.com/community/">专区</a></li>
			</ul>
		</div>-->



			<!-- The menu -->
			<nav id="menu">
				<ul>
					<li style="margin-bottom:20px;border-bottom: 1px solid #666;padding: 0px 30px 20px 0px;">

                        <a href="#" style="display:none;width:100%;" id="afterlogin_mobile">
                            <span style="display:inline-block;margin-left:-28px;">
                                <img id="user-head-img-mobile"/>
                            </span>
                            <span class="hoverpic-name" style="line-height:30px;display:inline-block;font-size:20px;height:30px;margin-left:15px;position: relative;top: 7px;" id="user-name-mobile"></span>
                        </a>

                        <span class="meun-login-m unlogin_mobile" style="display:inline-block;margin-left:90px;margin-top:30px;padding:0px 10px;font-size:20px;" >
                            <a href="https://www.sdnlab.com/login?url_type=login&url=https%3A%2F%2Fwww.sdnlab.com%2F15128.html">登录</a>
                        </span>
                        <span class="meun-login-m unlogin_mobile" style="display:inline-block;border-left:1px solid ;padding: 0px 10px;font-size:20px;">
                            <a href="https://www.sdnlab.com/register?url_type=register&url=https%3A%2F%2Fwww.sdnlab.com%2F15128.html">注册</a>
                        </span>

					</li>
					<li ><a href="https://www.sdnlab.com"><span class="meun-m-pic1"></span><span style="font-size:20px;">首页</span></a></li>
					<li ><a href="https://www.sdnlab.com/events/"><span class="meun-m-pic2"></span><span style="font-size:20px;">活动</span></a></li>
					<li ><a href="https://www.sdnlab.com/zhaopin/"><span class="meun-m-pic10"></span><span style="font-size:20px;">招聘</span></a></li>
					<li ><a href="https://www.sdnlab.com/sdn-guide"><span class="meun-m-pic6"></span><span style="font-size:20px;">入门集</span></a></li>
					<li ><a  href="https://edu.sdnlab.com"><span class="meun-m-pic5"></span><span style="font-size:20px;">未来网络学院</span></a></li>
					<li ><a target="_blank" href="https://www.sdnlab.com/community/"><span class="meun-m-pic7"></span><span style="font-size:20px;">知识社区</span></a></li>
					<li style="display: none;" id="mob_nav_logout"><a href="https://www.sdnlab.com/?action=logout_platform&url=https%3A%2F%2Fwww.sdnlab.com%2F15128.html"><span class="meun-m-pic8"></span><span style="font-size:20px;color:#fff;">注销</span></a></li>

				</ul>
			</nav>



			<!-- 		<div id="page" class="clearfix"> -->
			<!-- 			<nav id="menu"> -->
			<!-- 				<ul> -->

			<!-- 				<li id="odl-mobile"><a href="https://www.sdnlab.com/community/">专区</a></li> -->
			<!-- 				</ul> -->

			<!-- 			</nav> -->

			<!-- 	   </div> -->

		</div>
		
	</div>


            <div class="title_defind-newhead">
			<div class="title-content-head title-content1" >
				                            
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/SDN/">
                                    SDN                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/nfv/">
                                    NFV                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/NetDevOps/">
                                    NetDevOps                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/5G/">
                                    5G                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/iot">
                                    物联网                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/network-security/">
                                    网络安全                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/cloud-computing/">
                                    云计算                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/big-data/">
                                    大数据                                </a>
                            
                                                    
                                <a class="title-content-c title-content-chead" href="https://www.sdnlab.com/tag/AI/">
                                    人工智能                                </a>
                            
                        			</div>
		</div>

        <div class="per-center-right-content-no-info" style="display: block;">
            <div class="account-msg-succ-no-info" style="display: none;">
                <div class="msg-detail"> 手机设置成功！</div>
                <button class="bt-cleart msg-clear-btn" type="button" style="display: inline-block;"></button>
            </div>
        </div>

        <div class="network-tips" id="real_name_certification_top_tips" style="display: none;">依据《网络安全法》，为保障您的账户安全和正常使用，请尽快完成手机号验证！
            <a onclick="show_real_name_certification_dialog()">去设置</a><span class="network-tips-close"></span>
        </div>

        	<script type="text/javascript">
		$(function(){
			$('#mm-blocker').click(function(){
				$('.footer-wh').show();
			});
		});
	</script>
	<script type="text/javascript">
			$(".title-content-chead").click(function(){ 
			  	$(this).addClass('title-content-chead1');
			  
		  });
            $(".network-tips-close").click(function(){
                $(".network-tips").fadeOut();

            });

    </script>
	<!--end -->

<div class="comments-text-back" style="display:none"></div>
				<div class="loginmodal testBedLoginForm" style="display:none; position: fixed; opacity: 1; z-index: 11000; left: 50%; margin-left: -201px; top: 110px;width:360px;">
			<div class="login-head">
				<h1><span>SDN</span>LAB</h1>
				<div class="closeBtn labcloseBtn" title="点击关闭"></div>
			</div>
			<div id="textbedloginform">
				<div id="login-container">
    			    			<div class="login-user" style="margin-top:0px;margin-bottom:0px;float:none;">
		<div class="login-part">
			<div class="login-topic clearfix">
			     <h3 >账号登录</h3>
			</div>     
		     <div class="login-reg"> <a style="color:#F9734D;" href="https://www.sdnlab.com/register?url_type=register&url=">注册新用户</a></div>
			
			<div class="login-error" style="display:none;">
				<div class="login-error-img"></div><span >用户名不存在或密码不匹配</span>
			
			</div>
			
			<div class="form-group">
			    <div class="form-group-user" ></div><input   type="text"  class="username" name="username" placeholder="用户名/邮箱" onkeydown='if(event.keyCode==13){testBedCheckLogin(1,"")'>
			
			</div>
		
			<div class="form-group">
			    <div class="form-group-password"></div><input  type="password" class="password"  maxlength="18" name="password" placeholder="密码" onkeydown='if(event.keyCode==13){testBedCheckLogin(1,"")'>
			
			</div>
			
			
			<div class="forget-password clearfix">
					<span class="forget-password-rem">
							<input type="checkbox" name="rememberMe" class="rememberMe" value="true" class="auto-login" tabindex="4">
							<label  for="rememberMe">记住我</label>
					</span>
					<span  class="fpassword"><a target="_blank" href="https://www.sdnlab.com/reset-password">忘记密码?</a></span>
			</div>
			<div class="btn-login ">
			
				<input type="hidden" value="https://www.sdnlab.com/course/233/">
				<button class="btn-primary"  onclick="testBedCheckLogin(1,'')" id="goto_login_course">立即登录</button>
			</div>
			
			<div class="third-part-networks">
			    <p >第三方账号登录</p>
			    
			</div>
			
			
			<div class="third-part-pic">
			  <ul class="clearfix">
			  	<li ><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/qq-oauth2/qq-login"><i class="networks-pic1"></i></a></li>
			  	<li ><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/weibo-oauth2/weibo-login" ><i class="networks-pic2"></i></a></li>
			  	<li ><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/baidu-oauth2/baidu-login"><i class="networks-pic3"></i></a></li>
			  	<li ><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/github-oauth2/github-login"><i class="networks-pic4"></i></a></li>
			  	
			  </ul>
			
			</div>
			
		</div>
	</div>
	</div>
	    	 </div>
		  </div>
				 	 <div class="lab-code" style="display: none; position: fixed; opacity: 1; z-index: 11000; left: 50%; margin-left: -201px; top: 30%;">
						<div class="closeBtn labcloseBtn" title="点击关闭"></div>
						<input class="lab-code-input txtfield" type="text" onkeydown='if(event.keyCode==13){testBedCheckAppCode();}'placeholder="请输入邀请码" />
					    	<button onclick="testBedCheckAppCode()" class="lab-code-btn">确认</button>
					    	<div class="clearfix"></div>
					    	<p class="reg_wran"><span style="display:none;color:red;" id="lab-code-error-label" >邀请码不能为空</span></p>
					    	<a href="http://www.mikecrm.com/f.php?t=VUYN3R" class="lab-click" target="_blank">申请邀请码请点击这里</a>
					 </div>

<div id="container">
<div id="content" role="main">

						<!--  -->
		
		      <div class="clear"></div>
		<!--  -->
		
		<article id="15128" class="entry-common entry-common-add"
			itemtype="http://schema.org/Article" itemscope="itemscope"
			data-id="15128">
			<meta itemprop="inLanguage" content="zh-CN">

			<header class="entry-header">
				<div class="entry-name" itemprop="headline">
					Mininet多个数据中心的拓扑网络实现				</div>
								<div class="entry-commentnumber"></div>
							</header>
			<div class="entry-meta">
				<span itemprop="author"> 
					<a href="https://www.sdnlab.com/author/1/"  rel="author"> 
					SDNLAB君					</a>
				</span>
				<span itemprop="datePublished"> 
					<span>•</span>
					15-12-01				</span>
								<span itemprop="interactionCount">
					<span>•</span>
					<span itemprop="loading" >载入中...</span>
				</span>
				
			</div>
			<!--.postMeta-->

			<div class="entry-content" itemprop="description">
				<div class="content_defind">
										<p class="notice-body">
											</p>
										<p>真实的SDN网络需要很多OpenFlow设备包括控制器、交换机、功能虚拟化等一系列设备共同依赖来搭建并应用，但因条件有限，每一位实验者不可能有这样真实的环境来验证或者实验，此处将主要介绍在没有OpenFlow硬件设备下模拟搭建通过Mininet基于不同数据中心的网络拓扑。使用Mininet设计模拟不同网络数据中心拓扑，可以用来分析网络的总流量，而且除此之外，还可以通过负载均衡策略来保证数据中心的可用性。不同数据中心网络拓扑管理设计，主要是基于胖树（Fat-Tree）拓扑创建网络，胖树网络的好处是具有一个多层次的树状拓扑结构固有的容错能力。</p>
<h1>1 实验目的</h1>
<ul>
<li>掌握多数据中心网络拓扑的构建；</li>
<li>掌握多数据中心数据交换过程；</li>
</ul>
<h1>2 实验原理</h1>
<p>主机间发送消息上报给交换机，交换机对收到的报文信息进行分析判断，如果交换机中存在此消息相对应的流表，则交换机直接下发流表，将报文消息转发给目的主机；如果交换机中没有相对应的流表，交换机将此发送消息给控制器，控制器根据消息分析关键字段内容，进行流表下发决策，交换机再将消息发送给目的主机，实现主机间通信的目的。</p>
<h1>3 实验任务</h1>
<p>通过SDN创新实验平台创建一个虚拟网络，虚网中包括一台floodlight虚拟机和Mininet虚拟机，使用Mininet设计模拟一个多数据中心网络，主要是用Mininet中的OpenFlow交换机和floodlight控制器进行测试，帮助在真实数据中心和仿真测试床数据中心提供有用的信息评估不同数据中心的网络应用性能。</p>
<p>一个简单的基于两个数据中心的网络拓扑，如下图所示：</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/图表-1-基于两个数据中心的网络拓扑.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12628" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/图表-1-基于两个数据中心的网络拓扑.png" alt="图表 1 基于两个数据中心的网络拓扑" width="376" height="468" /></a></div>
<p>图中c1和c2为核心交换机，a1-a4为聚合交换机，e1-e4为边缘交换机，h1-h8为主机。本实验主要测试及验证交换机下挂主机间的连通性以及主机间通信收发数据包的速度。Mininet中自带的iperf性能测试工具可以测试不同主机间通信的性能带宽质量，在此例中，主要是对相同边缘交换机下的主机间、相同聚合交换机下不同边缘交换机间、相同核心交换机不同聚合交换机下的主机间进行测试。</p>
<h1>4 实验步骤</h1>
<h2>4.1搭建环境</h2>
<p>分别创建mininet和桌面版floodlight虚拟机，启动虚拟机。</p>
<h2>4.2启动Floodlight</h2>
<p>登录Floodlight虚拟机，执行ifconfig命令获取floodlight所在服务器的IP地址。</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图4.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12635" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图4.png" alt="Mininet模拟多个数据中心的网络拓扑 图4" width="637" height="169" /></a></div>
<p>启动floodlight（实验平台是自启动的，可以查看是否启动）：</p><!-- Crayon Syntax Highlighter v2.6.8 -->

		<div id="crayon-5ad591780fd67818308706" class="crayon-syntax crayon-theme-shell-default crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
java -jar target/floodlight.jar</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5ad591780fd67818308706-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ad591780fd67818308706-1"><span class="crayon-v">java</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">jar </span><span class="crayon-v">target</span><span class="crayon-o">/</span><span class="crayon-v">floodlight</span><span class="crayon-e">.jar</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>打开浏览器，输入floodlight ui界面地址：http://localhost:8080/ui/index.html。</p>
<h2>4.3创建数据中心</h2>
<p>登录mininet虚拟机，切换到/home/mininet目录，请检查是否存在测试脚本fattree.py，如果有该脚本，请跳过此步骤，如果没有，请执行以下命令创建脚本并添加内容。</p>
<p>本实验通过python脚本自定义拓扑，创建包含两个数据中心的网络拓扑，</p><!-- Crayon Syntax Highlighter v2.6.8 -->

		<div id="crayon-5ad591780fd78611473066" class="crayon-syntax crayon-theme-shell-default crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
cd /home/mininet
touch fattree.py
vim fattree.py</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5ad591780fd78611473066-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd78611473066-2">2</div><div class="crayon-num" data-line="crayon-5ad591780fd78611473066-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ad591780fd78611473066-1"><span class="crayon-r">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-e">mininet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd78611473066-2"><span class="crayon-r">touch</span><span class="crayon-h"> </span><span class="crayon-v">fattree</span><span class="crayon-e">.py</span></div><div class="crayon-line" id="crayon-5ad591780fd78611473066-3"><span class="crayon-r">vim</span><span class="crayon-h"> </span><span class="crayon-v">fattree</span><span class="crayon-e">.py</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p><!-- Crayon Syntax Highlighter v2.6.8 -->

		<div id="crayon-5ad591780fd7e216623629" class="crayon-syntax crayon-theme-shell-default crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
#!/usr/bin/python
#创建网络拓扑
"""Custom topology example
Adding the 'topos' dict with a key/value pair to generate our newly defined
topology enables one to pass in '--topo=mytopo' from the command line.
"""

from mininet.topo import Topo
from mininet.net import Mininet
from mininet.node import RemoteController,CPULimitedHost
from mininet.link import TCLink
from mininet.util import dumpNodeConnections

class MyTopo( Topo ):
    "Simple topology example."

    def __init__( self ):
        "Create custom topo."

        # Initialize topology
        Topo.__init__( self )
        L1 = 2
        L2 = L1 * 2 
        L3 = L2
        c = []
        a = []
        e = []
          
        # add core ovs  
        for i in range( L1 ):
                sw = self.addSwitch( 'c{}'.format( i + 1 ) )
                c.append( sw )
    
        # add aggregation ovs
        for i in range( L2 ):
                sw = self.addSwitch( 'a{}'.format( L1 + i + 1 ) )
                a.append( sw )
    
        # add edge ovs
        for i in range( L3 ):
                sw = self.addSwitch( 'e{}'.format( L1 + L2 + i + 1 ) )
                e.append( sw )

        # add links between core and aggregation ovs
        for i in range( L1 ):
                sw1 = c[i]
                for sw2 in a[i/2::L1/2]:
                # self.addLink(sw2, sw1, bw=10, delay='5ms', loss=10, max_queue_size=1000, use_htb=True)
			            self.addLink( sw2, sw1 )

        # add links between aggregation and edge ovs
        for i in range( 0, L2, 2 ):
                for sw1 in a[i:i+2]:
	                for sw2 in e[i:i+2]:
			            self.addLink( sw2, sw1 )

        #add hosts and its links with edge ovs
        count = 1
        for sw1 in e:
                for i in range(2):
                	host = self.addHost( 'h{}'.format( count ) )
                	self.addLink( sw1, host )
                	count += 1
topos = { 'mytopo': ( lambda: MyTopo() ) }</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-2">2</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-4">4</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-6">6</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-8">8</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-10">10</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-12">12</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-14">14</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-16">16</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-18">18</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-20">20</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-22">22</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-24">24</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-26">26</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-28">28</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-30">30</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-32">32</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-34">34</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-36">36</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-38">38</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-40">40</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-42">42</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-44">44</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-46">46</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-48">48</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-50">50</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-52">52</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-54">54</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-56">56</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-58">58</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-60">60</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-62">62</div><div class="crayon-num" data-line="crayon-5ad591780fd7e216623629-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd7e216623629-64">64</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ad591780fd7e216623629-1"><span class="crayon-p">#!/usr/bin/python</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-2"><span class="crayon-c">#创建网络拓扑</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-3"><span class="crayon-s">""</span>"<span class="crayon-e">Custom </span><span class="crayon-e">topology </span><span class="crayon-e">example</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-4"><span class="crayon-e">Adding </span><span class="crayon-i">the</span><span class="crayon-h"> </span><span class="crayon-s">'topos'</span><span class="crayon-h"> </span><span class="crayon-e">dict </span><span class="crayon-i">with</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-o">/</span><span class="crayon-e">value </span><span class="crayon-e">pair </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">generate </span><span class="crayon-e">our </span><span class="crayon-e">newly </span><span class="crayon-e">defined</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-5"><span class="crayon-e">topology </span><span class="crayon-e">enables </span><span class="crayon-e">one </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">pass </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-s">'--topo=mytopo'</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-e">the </span><span class="crayon-r">command</span><span class="crayon-h"> </span><span class="crayon-v">line</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-6"><span class="crayon-s">""</span>"</div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-8"><span class="crayon-e">from </span><span class="crayon-v">mininet</span><span class="crayon-e">.topo</span><span class="crayon-h"> </span><span class="crayon-e">import </span><span class="crayon-e">Topo</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-9"><span class="crayon-e">from </span><span class="crayon-v">mininet</span><span class="crayon-e">.net</span><span class="crayon-h"> </span><span class="crayon-e">import </span><span class="crayon-e">Mininet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-10"><span class="crayon-e">from </span><span class="crayon-v">mininet</span><span class="crayon-e">.node</span><span class="crayon-h"> </span><span class="crayon-e">import </span><span class="crayon-v">RemoteController</span><span class="crayon-sy">,</span><span class="crayon-e">CPULimitedHost</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-11"><span class="crayon-e">from </span><span class="crayon-v">mininet</span><span class="crayon-e">.link</span><span class="crayon-h"> </span><span class="crayon-e">import </span><span class="crayon-e">TCLink</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-12"><span class="crayon-e">from </span><span class="crayon-v">mininet</span><span class="crayon-e">.util</span><span class="crayon-h"> </span><span class="crayon-e">import </span><span class="crayon-e">dumpNodeConnections</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-14"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">MyTopo</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">Topo</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Simple topology example."</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-16">&nbsp;</div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Create custom topo."</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Initialize topology</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Topo</span><span class="crayon-e">.__init__</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">L1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">L2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">L1</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">L3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">L2</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">a</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># add core ovs&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">L1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sw</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-e">.addSwitch</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'c{}'</span><span class="crayon-e">.format</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">c</span><span class="crayon-e">.append</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">sw</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># add aggregation ovs</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">L2</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sw</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-e">.addSwitch</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'a{}'</span><span class="crayon-e">.format</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">L1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">a</span><span class="crayon-e">.append</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">sw</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># add edge ovs</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">L3</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sw</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-e">.addSwitch</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'e{}'</span><span class="crayon-e">.format</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">L1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">L2</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">e</span><span class="crayon-e">.append</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">sw</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># add links between core and aggregation ovs</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">L1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sw1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">c</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">sw2 </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-o">/</span><span class="crayon-cn">2</span><span class="crayon-o">::</span><span class="crayon-v">L1</span><span class="crayon-o">/</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># self.addLink(sw2, sw1, bw=10, delay='5ms', loss=10, max_queue_size=1000, use_htb=True)</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-49"><span class="crayon-h">			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-e">.addLink</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">sw2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">sw1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-50">&nbsp;</div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># add links between aggregation and edge ovs</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">L2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">sw1 </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">a</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-o">:</span><span class="crayon-v">i</span><span class="crayon-o">+</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-54"><span class="crayon-h">	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">sw2 </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-o">:</span><span class="crayon-v">i</span><span class="crayon-o">+</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-55"><span class="crayon-h">			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-e">.addLink</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">sw2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">sw1</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-56">&nbsp;</div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">#add hosts and its links with edge ovs</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">count</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">sw1 </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-v">host</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-e">.addHost</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'h{}'</span><span class="crayon-e">.format</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-i">count</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-r">self</span><span class="crayon-e">.addLink</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">sw1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">host</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd7e216623629-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;	</span><span class="crayon-v">count</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd7e216623629-64"><span class="crayon-v">topos</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">'mytopo'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">lambda</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">MyTopo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0644 seconds] -->
<p>启动Mininet，生成测试拓扑结构：</p><!-- Crayon Syntax Highlighter v2.6.8 -->

		<div id="crayon-5ad591780fd86268201180" class="crayon-syntax crayon-theme-shell-default crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
screen mn --custom /home/mininet/fattree.py --topo mytopo --controller=remote,ip=10.0.0.20,port=6633 --switch ovsk,protocols=OpenFlow10</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5ad591780fd86268201180-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ad591780fd86268201180-1"><span class="crayon-e">screen </span><span class="crayon-v">mn</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">custom</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">home</span><span class="crayon-o">/</span><span class="crayon-v">mininet</span><span class="crayon-o">/</span><span class="crayon-v">fattree</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">topo </span><span class="crayon-v">mytopo</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-v">remote</span><span class="crayon-sy">,</span><span class="crayon-v">ip</span><span class="crayon-o">=</span><span class="crayon-cn">10.0.0.20</span><span class="crayon-sy">,</span><span class="crayon-v">port</span><span class="crayon-o">=</span><span class="crayon-cn">6633</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-st">switch</span><span class="crayon-h"> </span><span class="crayon-v">ovsk</span><span class="crayon-sy">,</span><span class="crayon-v">protocols</span><span class="crayon-o">=</span><span class="crayon-v">OpenFlow10</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0054 seconds] -->
<p><strong>说明：</strong>通过screen mn命令启动mininet，这样可以通过ctrl+a+d和screen –r命令进行系统命令行和mininet命令行之前的窗口切换。</p>
<p>请根据实际情况将ip为floodlight所在服务器的ip，添加protocols参数指定OpenFlow协议版本。<br />
mn为mininet启动命令。</p>
<ul>
<li>--mac指定虚拟主机的mac地址顺序编号，若不带此参数则随机编号</li>
<li>--controller指定of交换机的控制器</li>
<li>--switch指定虚拟交换机的类型，ovsk表示虚拟交换机为ovs Kernel mode</li>
<li>--custom指定自定义拓扑文件</li>
<li>--topo指定加载拓扑的名字</li>
</ul>
<p>执行过程如下图所示：</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图5.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12636" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图5.png" alt="Mininet模拟多个数据中心的网络拓扑 图5" width="1264" height="475" /></a></div>
<p>上述代码拓扑创建了2个核心交换机、4个汇聚交换机、4个边缘交换机，每个边缘交换机分别下挂2个虚拟主机，并给所有的交换机添加了逻辑链路。上述代码中为了提高带宽的利用率、调整流量需求达到均衡的效果，每个核心交换机均与4个汇聚交换机相连，每个汇聚交换机分别下挂两个边缘交换机，与上文相对应的，每个边缘交换机分别连接它所属的父交换机。</p>
<h2>4.4多数据中心主机连通性及通信带宽测试</h2>
<p><strong>4.4.1同一交换机内部的主机间连通性及通信带宽测试</strong><br />
步骤1.在h1和h2之间进行ping操作。</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图6.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12637" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图6.png" alt="Mininet模拟多个数据中心的网络拓扑 图6" width="417" height="37" /></a></div>
<p>经验证主机间能够ping通。当操作iperf h1 h2 命令时，h1和h2的带宽性能测试结果为：测试TCP带宽发送数据的速率为102 Mbit/s，接收数据的速率为102 Mbit/s。<br />
<strong>4.4.2相同汇聚交换机下不同机架的主机间测试</strong></p>
<p>步骤1.在h1和h3之间进行ping操作</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图7.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12638" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图7.png" alt="Mininet模拟多个数据中心的网络拓扑 图7" width="418" height="53" /></a></div>
<p>经验证，两主机间能够通信。h1和h3的带宽性能测试结果为：测试TCP带宽发送数据的速率为49.9 Mbit/s，接收数据的速率为49.9 Mbit/s。<br />
<strong>4.4.3相同核心交换机不同汇聚交换机下的主机间测试</strong></p>
<p>步骤1.h1和h5主机在相同汇聚同核心交换机不同汇聚交换机下，在h1和h5之间进行ping操作</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图8.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12639" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图8.png" alt="Mininet模拟多个数据中心的网络拓扑 图8" width="418" height="54" /></a></div>
<p>经验证，两主机间能够通信。h1和h5的带宽性能测试结果为：测试TCP带宽发送数据的速率为40.1Mbit/s，接收数据的速率为40.1Mbit/s。</p>
<p><strong>4.4.4所有主机的连通性验证及带宽测试</strong></p>
<p>拓扑创建代码完成后，可以通过应用Mininet的操作命令编写测试脚本实现全自动化测试连通性及带宽性能验证，代码如下。</p><!-- Crayon Syntax Highlighter v2.6.8 -->

		<div id="crayon-5ad591780fd8f420261564" class="crayon-syntax crayon-theme-shell-default crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
#在开头补充
from mininet.log import setLogLevel
#测试连通性代码部分
def simpleTest():
    "Create and test a simple network"
    topo = MyTopo()
    net = Mininet( topo, controller=RemoteController, host=CPULimitedHost, link=TCLink )
    net.addController( 'c0', controller=RemoteController, ip='10.0.0.20', port=6633 )
    net.start()
    print "Dumping host connections"
    dumpNodeConnections(net.hosts )
    print "Testing network connectivity"
    net.pingAll()
    print "Testing bandwidth between h1 with h2, h3, h5"
    h1, h2 = net.get( 'h1', 'h2' )
    net.iperf( ( h1, h2 ) )
    h1, h3 = net.get( 'h1', 'h3' )
    net.iperf( ( h1, h3 ) )
    h1, h5 = net.get( 'h1', 'h5' )
    net.iperf( ( h1, h5 ) )
    net.stop()

if __name__ == '__main__':
    # Tellmininet to print useful information
    setLogLevel( 'info' )
    simpleTest()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-2">2</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-4">4</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-6">6</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-8">8</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-10">10</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-12">12</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-14">14</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-16">16</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-18">18</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-20">20</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-22">22</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-24">24</div><div class="crayon-num" data-line="crayon-5ad591780fd8f420261564-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5ad591780fd8f420261564-26">26</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ad591780fd8f420261564-1"><span class="crayon-c">#在开头补充</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-2"><span class="crayon-e">from </span><span class="crayon-v">mininet</span><span class="crayon-e">.log</span><span class="crayon-h"> </span><span class="crayon-e">import </span><span class="crayon-v">setLogLevel</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-3"><span class="crayon-c">#测试连通性代码部分</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-4"><span class="crayon-e">def </span><span class="crayon-e">simpleTest</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Create and test a simple network"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">topo</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">MyTopo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Mininet</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">topo</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-v">RemoteController</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">host</span><span class="crayon-o">=</span><span class="crayon-v">CPULimitedHost</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">link</span><span class="crayon-o">=</span><span class="crayon-i">TCLink</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-e">.addController</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'c0'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">controller</span><span class="crayon-o">=</span><span class="crayon-v">RemoteController</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ip</span><span class="crayon-o">=</span><span class="crayon-s">'10.0.0.20'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">port</span><span class="crayon-o">=</span><span class="crayon-cn">6633</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-e">.start</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"Dumping host connections"</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">dumpNodeConnections</span><span class="crayon-sy">(</span><span class="crayon-v">net</span><span class="crayon-e">.hosts</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"Testing network connectivity"</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-e">.pingAll</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"Testing bandwidth between h1 with h2, h3, h5"</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">h1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">h2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">net</span><span class="crayon-e">.get</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'h1'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'h2'</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-e">.iperf</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">h1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">h2</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">h1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">h3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">net</span><span class="crayon-e">.get</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'h1'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'h3'</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-e">.iperf</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">h1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">h3</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">h1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">h5</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">net</span><span class="crayon-e">.get</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'h1'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'h5'</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-e">.iperf</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">h1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">h5</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">net</span><span class="crayon-e">.stop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-22">&nbsp;</div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-23"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c"># Tellmininet to print useful information</span></div><div class="crayon-line" id="crayon-5ad591780fd8f420261564-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setLogLevel</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'info'</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5ad591780fd8f420261564-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">simpleTest</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0220 seconds] -->
<p>步骤1.将该部分内容添加到fattree.py脚本中，并修改如下部分：</p>
<p>请根据实际情况将RemoteController的IP修改为之前获取的floodlight的IP地址。<br />
net.addController( 'c0', controller=RemoteController, ip='10.0.0.20', port=6633 )</p>
<p><strong>说明：</strong><br />
为提高用户实验效率，省去输入代码的时间，在/home/mininet目录下为用户准备了包含创建拓扑和连通性测试两部分内容的测试脚本，名称为fullfattree.py，请用户根据实际情况取用，如使用该脚本，也需要根据实际情况修改脚本中RemoteController的IP。</p>
<p>步骤2.执行以下命令运行测试脚本。</p><!-- Crayon Syntax Highlighter v2.6.8 -->

		<div id="crayon-5ad591780fd96347543799" class="crayon-syntax crayon-theme-shell-default crayon-font-consolas crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 20px !important;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 20px !important;">
sudo ./fullfattree.py</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 20px !important;"><div class="crayon-num" data-line="crayon-5ad591780fd96347543799-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 20px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ad591780fd96347543799-1"><span class="crayon-i">sudo</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">fullfattree</span><span class="crayon-e">.py</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>命令中请用户根据实际情况选择fullfattree.py或fattree.py。</p>
<p>执行过程如下图所示：</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图9.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12640" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图9.png" alt="Mininet模拟多个数据中心的网络拓扑 图9" width="1253" height="897" /></a></div>
<p>步骤3.在floodlight web页面中查看网络拓扑信息，请在脚本执行的同时进行查看。</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图10.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12641" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图10.png" alt="Mininet模拟多个数据中心的网络拓扑 图10" width="958" height="569" /></a></div>
<p>交换机信息：</p>
<div class="imgex"><a href="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图11.png" class="fancybox" rel="fancybox" ><img class="alignnone size-full wp-image-12642" src="https://img1.sdnlab.com/wp-content/uploads/2015/07/Mininet模拟多个数据中心的网络拓扑-图11.png" alt="Mininet模拟多个数据中心的网络拓扑 图11" width="753" height="416" /></a></div>
<h1>5 实验结论</h1>
<p>Mininet创建网络拓扑的代码中，可以通过改变代码中定义的L1变量来设置核心交换机的数量，并通过添加额外的交换机和链路来构成更复杂的数据中心网络拓扑。随着边缘交换机的增加，主机个数也随之增长，利用Mininet的易用性和扩展性，可以创建基于多种数据中心场景下的网络拓扑，达到更好更全面的实验效果。</p>
<p><a href="https://edu.sdnlab.com/sdncourses" target="_blank"><img class="aligncenter" src="https://img1.sdnlab.com/wp-content-uploads/2017/03/23/sdn_begineer_course_web_v0_1.png" alt="" width="704" height="90" /></a></p>
									</div>

			</div>
									<br>
			<ul class="art_attachment">
				<li class="station-declaration">本站原创文章仅代表作者观点，不代表SDNLAB立场。所有原创内容版权均属SDNLAB，欢迎大家转发分享。但未经授权，严禁任何媒体（平面媒体、网络媒体、自媒体等）以及微信公众号复制、转载、摘编或以其他方式进行使用，转载须注明来自 SDNLAB并附上本文链接。
				</li>
				<li>本文链接<strong>：</strong><a href="https://www.sdnlab.com/15128.html">https://www.sdnlab.com/15128.html</a></li>
			</ul>
						
						<p class="notice-body" style="text-align: center; margin: 0 auto;">
				<a href="https://edu.sdnlab.com/camp" target="_blank"><img src="https://img2.sdnlab.com/wp-content/uploads/2018/03/870x80-5jineng%282018-03-06%29.jpg" /></a>


			</p>
					</article>
		<div class="sharebox">
			<!-- 						<div id="share" class="share "> -->
			<!-- 							<a id="share-weibo" title="分享到新浪微博" href="javascript:;"></a> <a -->
			<!-- 								id="share-tx" title="分享到腾讯微博" href="javascript:;"></a> <a -->
			<!-- 								id="share-qq" title="分享到QQ空间" href="javascript:;"></a> <a -->
			<!-- 								id="share-douban" title="分享到豆瓣" href="javascript:;"></a> <a -->
			<!-- 								id="share-renren" title="分享到人人网" href="javascript:;"></a> -->
			<!-- 						</div> -->
			<div class="bdsharebuttonbox" style="display: inline-block;">
					<span>分享到：</span>
					<!-- <a href="#" class="bds_more" data-cmd="more"></a> -->
					<a href="#" class="bds_tsina bds_width" data-cmd="tsina" title="分享到新浪微博">
						
					</a>

<!--					<a href="#" class="bds_tqq bds_width" data-cmd="tqq" title="分享到腾讯微博">-->
<!--						-->
<!--					</a>-->

					<a href="#" class="bds_weixin bds_width" data-cmd="weixin" title="分享到朋友圈">
						
					</a>

			<!-- <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>-->
					
			<!--<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>-->

			<!--<a class="bds_count" data-cmd="count"></a>-->

			</div>
			<div class="zan_defind" title="点赞">
				<a title="赞" class="wp-zan-15128 wp-zan"  onclick="wpzan(15128, 0)" href="javascript:;"><i class="wp"></i><i class="wp-click" style="display: none;"></i>
<span>2</span></a>				
			</div>
			<div class="share_defind" title="收藏">
			<div class="collect-tips" style="display:none;"><span ></span>只对登录用户开放收藏功能</div>
				</div>
			<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/my_sdnlab/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
		</div>
						<div class="clear"></div>
				<div class="author-profile">
			<div class="clear"></div>
			<div class="autho-profi-face">
				<img alt='SDNLAB君' src='https://https://img1.sdnlab.com/wp-content/uploads/2014/10/admin_avatar-50x50.png' class='avatar avatar-50 photo' height='50' width='50' />			</div>
			<div class="author-profile-text">
				<h2>
					<a href="" rel="author">SDNLAB君					</a>
				</h2>
				<p>
									</p>
			</div>
						<div class="author-profile-qrcode">
				<img width="50" height="50" alt="qrcode"
					src="">
				<div class="dropdown-area">
					<span class="top-padding"></span>
					<dl>
						<dd class="t-c">
							<a href="javascript:;">扫描关注SDNLAB | 专注网络创新技术							</a>
						</dd>
						<dt>
							<a class="ab-item" href="#" tabindex="-1"> <img
								class="avatar avatar-64 photo" width="220" height="220px"
								src="" alt="unknown">
							</a>
						</dt>
					</dl>
				</div>
			</div>
						<div class="author-profile-list">
																							</div>
			<div class="clear"></div>
		</div>
				<div class="clear"></div>
		<div id="review" style="display:block;"></div>
		<!-- <div id="comments" class="comments-box">
<wb:comments url="auto" width="auto" appkey="2887376896" ralateuid="5247527310" ></wb:comments>
</div>  -->

<div id="comments" class="comments-box entry-common-add">
    		<div id="reply-title" class="comments-title title_defind"> 
			<div class="title_color">
							<span><span id="num_comment"></span>条评论</span>
			</div>
			<small>
                		                	</small> 
					</div>
        <div id="respond" class="respond" role="form" style="position:relative;">
		  
		
           	                <form name="comment-form" action="https://www.sdnlab.com/wp-comments-post.php" method="post" id="commentform">
                    <p class="comment-form-comment" >
                        <textarea  placeholder="有话不说，憋着多难受啊!"  disabled name="comment" id="comment" rows="10" tabindex="4" onkeydown="if(event.ctrlKey&&event.keyCode==13){document.getElementById('submit').click();return false};" ></textarea>
                    </p>
                    <input type="hidden" name="at_uid" value="{{at_uid}}">
                    <input class="sdnlab-comments"  name="submit" type="submit" id="submit" class="commentsubmit" tabindex="5" onclick="return checkRealNameAndPhone()"
                           value="评论" disabled />
					
                    <input type='hidden' name='comment_post_ID' value='15128' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
                                    </form>
                <div id="aw-ajax-box" class="aw-ajax-box" style="position:absolute;top:40px;left:60px;"></div>
                                        <p style="margin: 0px 0;font-size:14px;width:200px;" id="comment_need_login_tips">
                    请<a href="/my_sdnlab/login?url_type=login&url=http%3A%2F%2Fwww.sdnlab.com%2F15128.html" style="color:#F9734D;">登录</a>后才可以评论
                </p>
        </div>
        <div class="clearfix"></div>
            <div class="commentshow" id="comments_content">
                <!--文章评论列表-->
            </div>
</div>


<script type="text/javascript">
$('.comment-author').children('.comment-reply').find('.comment-reply-link').click(function(){ 
	var rna= $(this).parent().parent().children(".author-name").text(); //取得所回复的评论用户名，可能需要调整！
	$("body,html").animate({scrollTop:$("#comments").position().top-90},{complete :function(){$("#comment").attr("value","@"+$.trim(rna)+" ").focus(); }},600);
});
$(function(){
	$(".comment-reply-link").hover(function(){ $(this).children(".link_reply_pic").attr("src","https://https://img1.sdnlab.com/wp-content/uploads/2015/02/commet_reply_after.png");});
	 $(".comment-reply-link").mouseleave(function(){ $(this).children(".link_reply_pic").attr("src","https://https://img1.sdnlab.com/wp-content/uploads/2015/02/commet_reply_before.png");});

	$("#comment").click(function(){$('#log').focus();});
	$("#submit").click(function(){$('#log').focus();});
	at_user_lists('#comment');
	$('.article-bar-comment').click(function(){
		$("body,html").animate({scrollTop:$("#comments").position().top-90},{complete :function(){$("#comment").focus(); }},600);
	});

	
});



function at_user_lists (selector) {
		var limit=5;
	    $(selector).keyup(function (e) {
	        var _this = $(this),
	            flag = _getCursorPosition($(this)[0]).start;
	        if ($(this).val().charAt(flag - 1) == '@')
	        {
	        	_init();
	        	$('#aw-ajax-box .content_cursor').html($(this).val().substring(0, flag));
	        } else
	        {
	        	var lis = $('.aw-invite-dropdown li');
	        	var atuids=new Array();
	            switch (e.which)
	            {
	                case 38:
	                	var _index;
	                	if (!lis.hasClass('active'))
		            	{
		            		lis.eq(lis.length - 1).addClass('active');
		            	}
	                	else
	                	{
	                		$.each(lis, function (i, e)
		            		{
		            			if ($(this).hasClass('active'))
								{
									$(this).removeClass('active');
									if ($(this).index() == 0)
									{
										_index = lis.length - 1;
									}
									else
									{
										_index = $(this).index() - 1;
									}
								}
		            		});
		            		lis.eq(_index).addClass('active');
	                	}
	                    break;
	                case 40:
	                    var _index;
		            	if (!lis.hasClass('active'))
		            	{
		            		lis.eq(0).addClass('active');
		            	}
		            	else
		            	{
		            		$.each(lis, function (i, e)
		            		{
		            			if ($(this).hasClass('active'))
								{
			            			$(this).removeClass('active');
			            			if ($(this).index() == lis.length - 1)
			            			{
			            				_index = 0;
			            			}
			            			else
			            			{
			            				_index = $(this).index() + 1;
			            			}
			            		}
		            		});
		            		lis.eq(_index).addClass('active');
		            	}
	                    break;
	                case 13:
	                	$.each($('.aw-invite-dropdown li'), function (i, e)
	                	{
	                		if ($(this).hasClass('active'))
	                		{
	                			$(this).click();
	                		}
	                	});
	                    break;
	                /* case 32:
	                	$('.aw-invite-dropdown').hide();
	                break; */
	                default:
	                    if ($('.aw-invite-dropdown')[0])
	                    {
	                        var ti = 0;
	                        for (var i = flag; i > 0; i--)
	                        {
	                            if ($(this).val().charAt(i) == "@")
	                            {
	                                ti = i;
	                                break;
	                            }
	                        }
                        	$.get('/my_sdnlab/?action=at_Users&q=' + encodeURIComponent($(this).val().substring(flag, ti).replace('@', '')) + '&limit=' + limit, function (result)
            	            {
                        		console.log(result);
	                             if ($('.aw-invite-dropdown')[0])
	                            {
	                            	 //console.log(result);
	                                if (result!=null)
		                            if(result.length!=0)
	                                {
		                                console.log(result);
	                                    var html = '';
	
	                                    $('.aw-invite-dropdown').html('');
	                                    
	                                    html+='<span style=" display: block; padding: 6px 10px;border-bottom: 1px solid #e4e4e4;color: #777; ">轻敲空格键完成输入</span>';
	                                    $.each(result, function (i, a)
	                                    {
	                                    	html += '<li><a>' + a.display_name + '</a></li>'
	                                    	//html += '<li><img src="' + a.detail.avatar_file + '"/><a>' + a.name + '</a></li>'
	                                    });
	
	                                    $('.aw-invite-dropdown').append(html);
	                                    $('.aw-invite-dropdown').removeClass("hide-border");
	                                    _display();
	
	                                    $('.aw-invite-dropdown li').click(function ()
	                                    {	
	                                        _this.val(_this.val().substring(0, ti) + '@' + $(this).find('a').html() + " ").focus();
	                                        $('.aw-invite-dropdown').detach();
	                                    });
	                                }
	                                else
	                                {
	                                    $('.aw-invite-dropdown').hide();
	                                }
	                            }
	                            if (_this.val().length == 0)
	                            {
	                                $('.aw-invite-dropdown').hide();
	                            }  
	                        }, 'json');
	                    }
	            }
	        }
	    });
	
	    $(selector).keydown(function (e) {
	        var key = e.which;
	        if ($('.aw-invite-dropdown').is(':visible')) {
	            if (key == 38 || key == 40 || key == 13) {
	                return false;
	            }
	        }
	    });
	
	    //初始化插入定位符
	    function _init() {
	        if (!$('.content_cursor')[0]) {
	            $('#aw-ajax-box').append('<span class="content_cursor"></span>');
	           // $('#aw-ajax-box').append('<span class="">轻巧空格完成输入</span>');
	        }
	        /* $('#aw-ajax-box').find('.content_cursor').css({
	        	  'left': parseInt($(selector).offset().left + parseInt($(selector).css('padding-left')) + 2),
	            'top': parseInt($(selector).offset().top + parseInt($(selector).css('padding-left')))
	        });*/
	        if (!$('.aw-invite-dropdown')[0])
	        {
	            $('#aw-ajax-box').append('<ul class="aw-invite-dropdown hide-border"></ul>');
	        }
	    };
	
	    //初始化列表和三角型
	    function _display() {
	        $('.aw-invite-dropdown').css({
	           /* 'left': $('.content_cursor').offset().left + $('.content_cursor').innerWidth(),
	            'top': $('.content_cursor').offset().top + 24	*/
	        }).show();
	    };
	
	    //获取当前textarea光标位置
		function _getCursorPosition(textarea)
		{
		    var rangeData = {
		        text: "",
		        start: 0,
		        end: 0
		    };
	
		    textarea.focus();
	
		    if (textarea.setSelectionRange) { // W3C
		        rangeData.start = textarea.selectionStart;
		        rangeData.end = textarea.selectionEnd;
		        rangeData.text = (rangeData.start != rangeData.end) ? textarea.value.substring(rangeData.start, rangeData.end) : "";
		    } else if (document.selection) { // IE
		        var i,
		            oS = document.selection.createRange(),
		            // Don't: oR = textarea.createTextRange()
		            oR = document.body.createTextRange();
		        oR.moveToElementText(textarea);
	
		        rangeData.text = oS.text;
		        rangeData.bookmark = oS.getBookmark();
	
		        // object.moveStart(sUnit [, iCount])
		        // Return Value: Integer that returns the number of units moved.
		        for (i = 0; oR.compareEndPoints('StartToStart', oS) < 0 && oS.moveStart("character", -1) !== 0; i++) {
		            // Why? You can alert(textarea.value.length)
		            if (textarea.value.charAt(i) == '\n') {
		                i++;
		            }
		        }
		        rangeData.start = i;
		        rangeData.end = rangeData.text.length + rangeData.start;
		    }
	
		    return rangeData;
		};
	}



function wp_comments_zan(comment_id, user_id){
	
	var id = "#wp-comments-zan-" + comment_id,
	$comm_zan = jQuery(id);
	//$comm_zan.children("#zan-i").removeClass("wp");
	//$comm_zan.children("#zan-i").addClass("wp-click");
	/* if( $comm_zan.hasClass('zaned') ){
		alert('你已经赞过该评论啦~~');
		return;
	} */
	if(comment_id){
		url="";
    	jQuery.get(url, {
    		"action": "wp_comments_zan",
        	"comment_id": comment_id,
        	"user_id": user_id
    	}, function(result) { //console.log(result);
    		if( result.status == 200 ){
    			var $count = $comm_zan.find('span');
    			 if(result.zaned==1){
    				$comm_zan.addClass('zaned');
    				jQuery(id + " .wp").hide();
    				jQuery(id + " .wp-click").show();
    				$comm_zan.attr("title","取消赞");
    			}
    			else{
    				$comm_zan.removeClass('zaned');
    				jQuery(id + " .wp-click").hide();
    				jQuery(id + " .wp").show();
    				$comm_zan.attr("title","赞");
    			} 
    			$count.text(result.count);
    		}else{
    			alert('点赞失败');
    		}
    	}, 'json');		
	}
}
</script>				<div class="article-bar" id="article-bar">
		     <div class="article-bar-middle">
			<div class="authors-info">
				<a href="https://www.sdnlab.com/author/1/">
					<img class="poto" src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/users_logo/1.png" />
					<span > 
						SDNLAB君					</span>
				</a>
				<span class="authors-info-time">发表于15-12-01</span>
			</div>
			<div class="comment-info">
				<div class="share_defind" style="float: left; margin-top: 10px;margin-right:0px;" title="分享">
				<div class="collect-tips" style="display:none;"><span ></span>只对登录用户开放收藏功能</div>
				</div>
				<div class="article-bar-zan" title="点赞"><a title="赞" class="wp-zan-15128 wp-zan"  onclick="wpzan(15128, 0)" href="javascript:;"><i class="wp"></i><i class="wp-click" style="display: none;"></i>
<span>2</span></a></div>
				<a class="article-bar-comment" href="javascript:void(0);" title="评论"></a>
				<div class="dropdown-menu-part">
					<a class="article-bar-share" href="javascript:void(0);" title="分享"></a>
					<div class="bdsharebuttonbox share-list" style="display:none;">
						<div class="share-list-li"><a href="javascript:void(0);" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">分享到新浪微博</a></div>
<!--						<div class="share-list-li"><a href="javascript:void(0);" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">分享到腾讯微博</a></div>-->
						<div class="share-list-li"><a href="javascript:void(0);" class="bds_weixin" data-cmd="weixin" title="分享到朋友圈">分享到朋友圈</a></div>
						<i class="dropdown-menu-img"></i>
					</div>
				</div>
			</div>
		     </div>
		</div>
	</div>
	<div id="sidebar" role="complementary">
		<aside class="widget widget_text">	
			<div class="textwidget">
				<div class="side-course-btn">
											<a class="c-start-btn course-lab-login " data-code="" href="https://www.sdnlab.com/login?url_type=course&url=https%3A%2F%2Fwww.sdnlab.com%2F15128.html">开始实验</a> 
															<a class="c-return-btn" href="https://www.sdnlab.com/course/233">返回课程</a>
					<p style="color:#333;font-size:12px;margin-left:10px;margin-top:25px">注：建议在谷歌或火狐浏览器的环境下进行实验</p>
				</div>
			</div>
		</aside>
		<aside class="widget widget_text">	
			<div class="textwidget">
				<div class="course-mutual">
					<div class="title_defind">
						<div class="title_color">
							<p>相关实验</p>
						</div>
					</div>
					<ul>
						<li class="clearfix"><a href="https://www.sdnlab.com/15110.html"><span class="mutual-name">Mininet脚本实现控制交换机行为</span><span class="mutual-view">载入中...</span></a></li><li class="clearfix"><a href="https://www.sdnlab.com/15122.html"><span class="mutual-name">基于Mininet实现BGP路径挟持攻击实验</span><span class="mutual-view">载入中...</span></a></li><li class="clearfix"><a href="https://www.sdnlab.com/15132.html"><span class="mutual-name">Mininet MAC地址学习实验</span><span class="mutual-view">载入中...</span></a></li><li class="clearfix"><a href="https://www.sdnlab.com/15731.html"><span class="mutual-name">基于Mininet的VxLAN实验</span><span class="mutual-view">载入中...</span></a></li><li class="clearfix"><a href="https://www.sdnlab.com/15883.html"><span class="mutual-name">使用l2_multi模块寻找最短路径实验</span><span class="mutual-view">载入中...</span></a></li>					</ul>
				</div>
			</div>
		</aside>
		<aside class="widget widget_text">	
			<div class="textwidget">
				<div class="code" id="code">
   					<div class="wline" style="padding-top: 25px;">微信公众号：搜索"SDNLAB"</div>
   					<div class="wline">或扫描下面的二维码：</div>
  					<img alt="weibo" class="codeimg" src="https://img1.sdnlab.com/wp-content/uploads/2014/08/weibo.png">
				</div>
			</div>
		</aside>
	</div>
</div>
<a class="qq_online" target="_blank" href="http://qm.qq.com/cgi-bin/qm/qr?k=Mmob8eFIqrwXaRp0JDEmb4buwppMCGJW">在线咨询</a>

<script>
var result="-2";

function callback(a){
	$(".c-start-btn").attr('disabled',false);
	if(a.result.code == -1 && a.result.message == 'FAILED'){
		window.location.href="";
	}
	else if (a.result.code == 0 && a.result.message == 'SUCCESS'){
				
		window.open("http://58.213.119.21:8090/cometemp//"+a.result.token+"/"+a.result.auth_token+"/d9417b0e-57b5-400b-a2e2-82ba2e9633f8/");
	}
}
</script>
<script type="text/javascript" src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/sdn-platform.js?ver=1523945847"></script>

<script type="text/javascript"
	src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/single.js?ver=201">
</script>
<!--邮箱弹框-->
<div class="login_overlay_email_foot" style="overflow-y: scroll; overflow-x: hidden; background: rgba(0, 0, 0, 0.5) !important;display:none;"
     id="container_bind_email">
    <div class="per-center-main2 per-center-main2-email_foot" id="dialog_bind_email">
        <p class="zp-content-head" style="margin-bottom:35px;"> 验证邮箱
            <span class="zp-closebtn" onclick="close_bind_email_dialog()"></span></p>
        <p style="text-align:center;margin-top:25px;font-size:20px;" id="upload_title"></p>
        <p  class="message-conform message-conform-add mcaa">绑定邮箱后，您可以正常使用知识社区、实验平台、未来网络学院等服务</p>
        <div class="form-group-reg form-group-add"  >
            <div class="form-group-email"></div>
            <input  type="email" placeholder="邮箱"  id="dialog_bind_email_text">
        </div>
        <div class="verifycode-none1 verifycode-add" style="display:block;" id="container_bind_email_tips" >
            <span class="verifycode-none captcha-none verifycode-n1"  style="display:none;" id="container_bind_email_tips_content"></span>
        </div>
        <div>
                <div class="reg-verifycode clearfix form-group-add login-IC1" style="margin-top:20px;text-align:center">
                    <div class="form-group-reg2 form-group-reg21 form-group-reg-foot">
                        <div class="form-group-message"></div>
                        <input  type="text" maxlength="6" id="dialog_bind_email_captcha"
                                placeholder="请输入邮箱验证码">
                    </div>
                    <div style="position:absolute;right:0px;">
                        <button type="button" value="获取验证码" class="reg-button captcha-button" 
                                id="btn_dialog_bind_email_register_code">获取验证码</button>
                    </div>
                </div>

                <div class="verifycode-none1 verifycode-add" style="display:block;" id="container_bind_emai_captcha_tips">
                    <span class="verifycode-none captcha-none verifycode-n1"  style="display:none;" id="container_bind_email_captcha_tips_content"></span>
                </div>
        </div>

        <div class="per-btn-login " style="margin-top:55px;">
            <button class="per-btn-primary2"  style="margin: auto;margin-top: -30px;" id="btn_confirn_dialog_bind_email">确定</button>
        </div>
    </div>
</div>


<!--绑定手机-->
<div class="login_overlay_num_foot" style="overflow-y: scroll; overflow-x: hidden; background: rgba(0, 0, 0, 0.5) !important;display: none;" id="container_bind_phone">
    <div class="per-center-main2 per-center-main2-num_foot"  style="display: none;" id="dialog_bind_phone">
        <p class="zp-content-head" style="margin-bottom:35px;"> 绑定手机
            <span class="zp-closebtn" onclick="close_real_name_certification_dialog()"></span></p>
        <p style="text-align:center;margin-top:25px;font-size:20px;"></p>
        <p  class="message-conform message-conform-add mcaa">应国家法规对于账号实名的要求，进行下一步操作前，需要先完成手机绑定。</p>
        <p  class="message-conform-add mcaa">绑定手机后，您可以正常使用知识社区、实验平台、未来网络学院等服务</p>
        <div class="form-group-reg form-group-add">
            <div class="form-group-number"></div>
            <input type="text" placeholder="手机号" maxlength="11" id="dialog_bind_phone_text">
        </div>
        <div class="verifycode-none1 verifycode-add" style="display:block;" id="dialog_bind_phone_tips">
            <span class="verifycode-none captcha-none verifycode-n1"  style="display:none;" id="dialog_bind_phone_tips_content"></span>
        </div>
        <div>
            <div class="reg-verifycode clearfix form-group-add login-IC1" style="margin-top:20px;text-align:center">
                <div class="form-group-reg2 form-group-reg21 form-group-reg-foot">
                    <div class="form-group-message"></div>
                    <input  type="text" maxlength="6" placeholder="请输入手机验证码" id="dialog_bind_phone_captcha">
                </div>
                <div style="position:absolute;right:0px;">
                    <button type="button" value="获取验证码" class="reg-button captcha-button" id="btn_bind_phone_dialog_register_code">获取验证码</button>
                </div>
            </div>

            <div class="verifycode-none1 verifycode-add" style="display:block;" id="dialog_bind_phone_captcha_tips">
                <span class="verifycode-none captcha-none verifycode-n1"  style="display:none;" id="dialog_bind_phone_captcha_tips_content"></span>
            </div>
        </div>

        <div class="per-btn-login " style="margin-top:55px;">
            <button class="per-btn-primary2"  style="margin: auto;margin-top: -30px;" id="btn_dialog_confirm_bind_phone">确定</button>
        </div>
    </div>
</div>
<footer id="footer" class="clearfix">
<!-- <div class="FriendLinkBottom footerNone">
		<div class="FooterFriendLink">
		    <div style="overflow:hidden;">
			<h3>友情链接</h3>
			<ul style=" overflow: hidden;">
						</ul>
		    </div>
		</div>
		<div class="clearfix"></div>
	</div>
 -->	
	<div class="footer-wh">
		<!--friend link -->
		<div class="footer-col-ms1">
			<ul class="footer-col-ms1-mobile-hide">
				<li class="footerNone footerNone-pic">
				<a target="_blank" href="https://www.sdnlab.com">
					<i class="sprite-img spri-f-logo"></i>
				</a>
				</li>
			</ul>
			<ul class="footer-col-ms1-mobile">
				<li>
					<a href="https://www.sdnlab.com/monthly/page/201709" target="_blank">每月精选</a>
					<span>|&nbsp;</span><a href="https://www.sdnlab.com/weekly/page/125">每周回顾</a>
				</li>
				<li>Copyright &copy;&nbsp;2014-2018&nbsp;南京优速网络科技有限公司</li>
				<li>版权所有 &nbsp;<a href="http://www.miitbeian.gov.cn" target="_blank">苏ICP备13052757号-3</a></li>
			</ul>
		</div>

		<div class="footer-col-ms4 footerNone" style="position:relative;">
			<a href="https://www.sdnlab.com/about-us/">关于我们</a> <span>|</span><a href="https://www.sdnlab.com/join-us/">加入我们</a><span>|</span><a href="https://www.sdnlab.com/business/">商务合作</a><span>|</span><a href="https://www.sdnlab.com/disclaimer/">免责申明</a><span>|</span><a href="https://www.sdnlab.com/weekly/page/117">周报</a><span>|
            </span><a href="https://www.sdnlab.com/monthly/page/201709">月刊</a>
			<div style="padding-left:2px;color: #ddd;margin-top:20px;">Copyright &copy;2014-2018 南京优速网络科技有限公司 &nbsp; 版权所有 <a href="http://www.miitbeian.gov.cn/">苏ICP备13052757号-3</a></div>
		</div>
		
		<div class="footer-col-ms3">
			<ul class="footer-col-ms1-mobile-hide">
<!-- 				<li class="footerNone"> -->
<!-- 				<a target="_blank" href="https://www.sdnlab.com/feed"> -->
<!-- 					<i class="sprite-wx sprite-wx-log1"></i> -->
<!-- 				</a> -->
<!-- 				</li> -->
				<li class="footerNone " style="position:relative;">
				<img src="https://img2.sdnlab.com/wp-content-uploads/2017/03/16/wx-tou.png" class="footer-wh-wxpic">
				<span style="cursor:pointer;">
					<i class="sprite-wx sprite-wx-log2"></i>
				</span>
				</li>
				<li class="footerNone">
				<a target="_blank" href="http://weibo.com/sdnlab/">
					<i class="sprite-wx sprite-wx-log5"></i>
				</a>
				</li>
				<li class="footerNone">
				<a href="mailto:service@sdnlab.com">
					<i class="sprite-wx sprite-wx-log4"></i>
				</a>
				</li>
			</ul>
		</div>

	</div>
</footer>
<!--  Rocket to top begin-->
 <div class="scroll_fixed">
	 <div class="qr_codes">
	    <div class="qr_codes_btn"></div>
	    <div class="codeimg">
	       <img alt="weibo" src="https://img1.sdnlab.com/wp-content/uploads/2014/08/weibo.png">
	       <p>微信公众号：搜索"SDNLAB"<br />或扫描上面的二维码。</p>
       </div>
	</div>
	<div id="back_to_top"></div>
</div>
<div id="su-footer-links" style="text-align: center;"></div><script type='text/javascript' src='https://www.sdnlab.com/my_sdnlab/wp-includes/js/comment-reply.min.js?ver=3.9.2'></script>
<!-- xyz 113 queries in 1.361 seconds, using 14.97MB memory --><script src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/common.js?ver=1523945847" type="text/javascript"></script>
<script src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/account.js?ver=1523945847" type="text/javascript"></script>
<script src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/jquery.cookie.js" type="text/javascript"></script>

<script  src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/jquery.mmenu.all.min.js" type="text/javascript"></script>

<script type="text/javascript">

       
        var account_setting_set_email = true;
        var account_setting_set_phone = true;

        
		$(document).ready(function() {
            $("#menu").mmenu({
               "offCanvas": {
                  "position": "right"
               }
            });
         });
		</script>
<script src="https://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=2887376896" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
$(document).on("click", ".btn-primary-reg", function(){
    
    var nn = 30; 
    var tipId; 
    function show() { 
    tipId = window.setInterval("start()", 1000); //每隔1秒调用一次start()方法 
    } 

    function start() { 
    if (nn > 0) { 
    var vv = "点下我(" + nn + ")"; 
    $(".btn-primary-reg").attr("disabled", "disabled"); //使按钮不能被点击 
    $(".btn-primary-reg").attr("value", vv); //更改按钮上的文字 
    nn--; 
    } else { 
    nn = 30; 
    $(".btn-primary-reg").removeAttr("disabled"); //使按钮能够被点击 
    $(".btn-primary-reg").attr("value", "点下我"); //更改按钮上的文字 
    window.clearInterval(tipId); //清除循环事件 
    } 
    } 
});
</script>
<script type="text/javascript">


    $(".jntp-tips-close").click(function(){
    	$(".jntp-tips").fadeOut();
        
        });
    
</script>
<script type="text/javascript">
$(function(){var e=$("#rocket-to-top"),t=$(document).scrollTop(),n,r,i=!0;$(window).scroll(function(){var t=$(document).scrollTop();t==0?e.css("background-position")=="0px 0px"?e.fadeOut("slow"):i&&(i=!1,$(".level-2").css("opacity",1),e.delay(100).animate({marginTop:"-1000px"},"normal",function(){e.css({"margin-top":"-125px",display:"none"}),i=!0})):e.fadeIn("slow")}),e.hover(function(){$(".level-2").stop(!0).animate({opacity:1})},function(){$(".level-2").stop(!0).animate({opacity:0})}),$(".level-3").click(function(){function t(){var t=e.css("background-position");if(e.css("display")=="none"||i==0){clearInterval(n),e.css("background-position","0px 0px");return}switch(t){case"0px 0px":e.css("background-position","-298px 0px");break;case"-298px 0px":e.css("background-position","-447px 0px");break;case"-447px 0px":e.css("background-position","-596px 0px");break;case"-596px 0px":e.css("background-position","-745px 0px");break;case"-745px 0px":e.css("background-position","-298px 0px")}}if(!i)return;n=setInterval(t,50),$("html,body").animate({scrollTop:0},"slow")})})

$(function(){
    //搜索
    $(".search_btn").click(function(){
    	$(".nav-wrapper").fadeOut();
        $(this).fadeOut(function(){
            $(this).siblings(".nav-search").fadeIn();
            $(this).siblings(".nav-search").find("input[type='text']").animate({
                "width":"300px"
            }).focus();
        });
    });
    $(document).click(function(event){
        if($(".nav-search").is(":visible") && !$(event.target).is(".nav-search")) {
            $(".nav-search").find("input[type='text']").animate({
                "width":"50px"
            });
            $(".nav-search").fadeOut(function(){
            	$(".nav-wrapper").fadeIn();
                $(".search_btn").fadeIn();
            });
        }
    });


    
    //回到顶部
    var scrollDefault = 500;    
    $(window).scroll(function(){       
        var winTop = $(this).scrollTop();       
        if(winTop > scrollDefault) { 
          $("#back_to_top").fadeIn();
        } else {    
          $("#back_to_top").fadeOut();
        }       
    });   
    $("#back_to_top").click(function(){
        $("html, body").animate({scrollTop : "0"});
    });
    
    //二维码
    $(".qr_codes_btn").hover(function(){ 
        $(this).siblings(".codeimg").stop(false, true).fadeIn();
    }, function(){
        $(this).siblings(".codeimg").stop(false, true).fadeOut();
    });
});


</script>
<script type="text/javascript"> 
if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE6.0") 
{ 
	$(".browser-tips").fadeIn();
} 
else if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE7.0") 
{ 
	$(".browser-tips").fadeIn();
} 
else if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE8.0") 
{ 
$(".browser-tips").fadeIn();
} 
else if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE9.0") 
{ 
$(".browser-tips").fadeIn();
} 
</script>
<div class="statistic">
	</div>
<!--  Rocket to top end-->
<script type="text/javascript">
//var slider = document.getElenmentById('slider');
if($('#slider').length){
	Effect.slider({
	    'targetElement': 'slider',
	    'showMarkers': true,
	    'showControls': true
	});
}

</script>

<script type="text/javascript">

    function getNowFormatDate() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
//            var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
//                + " " + date.getHours() + seperator2 + date.getMinutes()
//                + seperator2 + date.getSeconds();
        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate;
        return currentdate;
    }

    function getCurrentTimeStamp() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
            + " " + date.getHours() + seperator2 + date.getMinutes()
            + seperator2 + date.getSeconds();
        return currentdate;
    }

    function trim(str){ //删除左右两端的空格
        return str.replace(/(^s*)|(s*$)/g, "");
    }
    function ltrim(str){ //删除左边的空格
        return str.replace(/(^s*)/g,"");
    }
    function rtrim(str){ //删除右边的空格
        return str.replace(/(s*$)/g,"");
    }

    function is_variable_null(variable){
        if (variable === null || variable === undefined || variable === '') {
            return true;
        } else {
            return false;
        }
    }

    function is_string_null(str) {

        if (str === null || str === undefined || str === '') {
            return true;
        } else {
            return is_variable_null(trim(str));
        }

    }

</script>

<script type="text/javascript">
var is_home="";
var comments_open="true";
var home_url="https://www.sdnlab.com/";
var is_mobile="";
var fspostid ="15128";
var fsajaxurl ="https://www.sdnlab.com";
//rss


$(function(){
	$(".sprite-wx-log2").hover(function(){
		$(".footer-wh-wxpic").fadeIn(0);
        	
		},
		function(){
			$(".footer-wh-wxpic").fadeOut(0);
			
		});

});


function drop_mouseout(pos){
 var posSel=document.getElementById(pos+"Sel").style.display;
 if(posSel=="block"){
  timer = setTimeout("drop_hide('"+pos+"')", 1000);
 }
}
function drop_hide(pos){
 document.getElementById(pos+"Sel").style.display="none";
}
function search_show(pos,searchType,href){
    document.getElementById(pos+"SearchType").value=searchType;
    document.getElementById(pos+"Sel").style.display="none";
    document.getElementById(pos+"Slected").innerHTML=href.innerHTML;
    document.getElementById(pos+'q').focus();
    var sE = document.getElementById("searchExtend");
    if(sE != undefined  &&  searchType == "bar"){
     sE.style.display="block";
    }else if(sE != undefined){
     sE.style.display="none";
    }
 try{window.clearTimeout(timer);}catch(e){}
 return false;
}	
<!--end-->
$(document).ready(function(){
$('#select-bar').hover(function(){$('#search-down').show();},function(){$('#search-down').hide();});
$('#select-bar-fixed').hover(function(){$('#search-down-fixed').show();},function(){$('#search-down-fixed').hide();});
});

$(function(){
	$("#bigfa_widget3-2 .rc_excerpt").each(function(){
			var str=$(this).text(); 
			var s = str;
			if(str.length>40){
			  s=str.substring(0,40)+"...";
			}
			$(this).html(s);
		});
});
	
</script>


<!--  
<script src="https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/js/global.js?20130801"></script>
<script id="bdlike_shell"></script>
<script>
var bdShare_config = {
	"type":"small",
	"color":"blue",
	"uid":"6729407"
};
document.getElementById("bdlike_shell").src="http://bdimg.share.baidu.com/static/js/like_shell.js?t=" + Math.ceil(new Date()/3600000);
</script>
-->
<script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script type="text/javascript">
// <![CDATA[
$.fn.smartFloat=function(){var e=function(e){var t=e.position().top,n=e.css("position");$(window).scroll(function(){var r=$(this).scrollTop();r>t?window.XMLHttpRequest?e.css({position:"fixed",top:25}):e.css({top:r}):e.css({position:n,top:t})})};return $(this).each(function(){e($(this))})},$("#float").smartFloat()
//  ]]>
</script>
<!-- As you see here, I probably already know what you want to do it. Well, this theme has been free to share, please visit http://ikx.me/2675.html  Thank you By:Ac December 25 Christmas Day -->


<div style='display: none;'>
	<script type="text/javascript">
		var _hmt = _hmt || [];
		(function() {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?6aa15266ee7c200ccb8a1737fe2a32a0";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

<!-- <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	  ga('create', 'UA-56814233-1', 'auto');
	  ga('send', 'pageview');
	</script> 
-->	
</div>
 <!-- END wrap  请勿删除-->
<!-- 登录注册 -->
	<div class="loginmodal" id="loginmodal" style="display:none;">
		<div class="login-head">
		    <h1><span>SDN</span>LAB</h1>
		    <div class="closeBtn normalcloseBtn" title="点击关闭"></div>
	    </div>
	    <div id="loginform">
	    	

<div id="login-container">
<br/>
  <div class="login-form">
	<form name="loginform" method="post" action="https://www.sdnlab.com/my_sdnlab/wp-login.php" onsubmit='return check_login("log","pwd","login-none-activate-label","login-error-label",0)' class="ludou-login">
	        <input type="text" name="log" id="log" class="txtfield" maxlength="40" value="" size="20" placeholder="用户名或邮箱"/>
		<p class="reg_wran">
   		</p>
	        <input id="pwd" class="txtfield input" type="password" maxlength="20" size="25" value="" name="pwd"  placeholder="密码" />
		<p class="reg_wran">
        		<span style="display:none;"  id="login-error-label">用户名或密码错误</span>
   		</p>
   		<p class="reg_wran">
        		<span style="display:none;color:#000;"   id="login-none-activate-label">您的账户尚未激活<a style="cursor: pointer;color:red;"onclick="re_post_email()" style="color: rgb(0, 90, 255);">激活账户</a></span>
   		</p>
	     <div class="loginpassword">
	      <label for="rememberme">
	        <input name="rememberme" type="checkbox" id="rememberme" value="1"  />
	        	记住我
	      </label>
	      
	      <a href="https://www.sdnlab.com/account/find_password" class="password-forget" target="_blank" hidefocus="true">忘记密码？ </a>
         </div>
	   <div class="loginbuttom">
	       <p>没有帐号？<a id="login-register-btn" href="#" >注册</a></p>
	      <input type="reset" style="display:none;" /> 
	      <input type="hidden" name="redirect_to" value="" />
	      <input type="hidden" name="ludou_token" value="141b716e16bc30f1df4d598e0f842c89" />
	      <input type="submit" name="wp-submit" id="wp-submit"  value="登录" class="submit button floatbtn"/>
	 </div>
	</form>
  </div>
 <!-- <p class="ludou-error">您已登录！</p> -->
</div>
<script type="text/javascript">
function re_post_email(){
	$.ajax({
		url: "?action=account_post_email", //account_post_email
		data : {"login":true,"username":$("#log").val()},
		type: 'get',
		beforeSend: function() {
		},
		error: function(a) {
		},   //错误时输出
		success: function(a) {
			location.href="register";
		}
	});
}
</script>	    </div>
	    <div id="signinform" style="display:none">
	    	
  <div class="login-form">
	<form name="registerform" method="post" action="https://www.sdnlab.com/my_sdnlab/account/RegisterAction.class" class="ludou-reg" onsubmit="return check_regist(1)">
    <input class="txtfield" type="text" name="user_login" id="user_login" class="input"  maxlength="18"   size="20" placeholder="用户名" onblur="reg_onblur_username('user_login','reg_name_placeholder','reg_name_wrong',1)" onfocus="registeErrorRemove('user_login','reg_name_placeholder','reg_name_wrong')" />

    <p class="reg_wran" >
        <span id="reg_name_placeholder" style="display:none;">长度3-18位</span>
        <span id="reg_name_wrong" style="display:none;color:red;"></span>
    </p>
    <input class="txtfield" type="text" name="user_email" id="user_email" class="input"  size="25" placeholder="邮箱" onblur="reg_onblur_email('user_login','user_email','reg_email_placeholder','reg_email_wrong',1)" onfocus="registeErrorRemove('user_email','reg_email_placeholder','reg_email_wrong')"/>

    <p class="reg_wran" >
        <span id="reg_email_placeholder"style="display:none;">请输入有效邮箱地址</span>
        <span id="reg_email_wrong" style="display:none;color:red;"></span>
    </p>
    
    <input class="txtfield" id="user_pwd1" class="input" type="password"  maxlength="16" size="25" value="" name="user_pass" placeholder="密码" onblur="reg_onblur_pass('user_pwd1','reg_pass_placeholder','reg_pass_wrong')" onfocus="registeErrorRemove('user_pwd1','reg_pass_placeholder','reg_pass_wrong')"/>

    <p class="reg_wran"  >
         <span id="reg_pass_placeholder" style="display:none;">请输入6-16位密码，区分大小写</span>
         <span id="reg_pass_wrong" style="display:none;color:red;"></span>
    </p>

    <p id="reg_passmail"></p>
    <input type="hidden" name="ludou_reg" value="ok" />
    <input type="reset" style="display:none;" /> 
   <div class="loginbuttom">
     <p>已有帐号？<a id="login-btn" href="#">登录</a></p>
      <input type="submit" name="wp-submit" id="wp-submit"  class="floatbtn" value="注册" />
   </div>
</form>
</div>
<!--底部-->	    </div>
		<div class="login-footer">
	    	<div class="login-footer-content">
		        <ul class="clearfix">
		      	   <li><span>快速登录：</span></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/qq-oauth2/qq-login"><i class="sprite-img qq-login"></i></a></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/weibo-oauth2/weibo-login" ><i class="sprite-img weibo-login"></i></a></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/baidu-oauth2/baidu-login"><i class="sprite-img baidu-login"></i></a></li>
		           <li><a href="https://www.sdnlab.com/my_sdnlab/account/social-login/github-oauth2/github-login"><i class="sprite-img github-login"></i></a></li>
		        </ul>
	        </div>
	    </div>
  </div>
<!-- 评论弹出框-->
  <div class="comments-text" style="display:none;">
	<div class="comments-text-back"></div>
	<div class="comments-text-content">
		<div class="comments-text-head">系统提示</div>
		<div class="comments-text-detail">
			<p class="comments-text-detail-p">请输入评论内容</p>
			<input type="button" class="comments-close" style="cursor:pointer;"value="知道了" />
		</div>
	</div>
</div>


  
<!-- login script-->
<script type="text/javascript">


$(function(){
	 <!--end-->
	 var $userClick=$(".user-click");
         var $userHide=$(".user-hide");
	$(".menu-item-activity").append($(".nav-activity"));
	<!-- $(".menu-item-browse").append($(".sub-menu-view")); -->
	$(".sub-menu").append($(".sub-menu-before"));
	$(".menu-item-seminar").append($(".sub-menu-seminar"));
	$(".menu-item-browse,.menu-item-activity,.menu-item-seminar,.menu-item-discovery").append($('<div class="menu-item-after"></div>')).addClass("hover_line");
	$(".menu-item-guide").append("<i class='g-item'></i>");
	$('.article-bar-share').click(function(e){
			$('.share-list').fadeToggle();
			e.stopPropagation();
	});	
	$('#menu-nav>li').mouseover(function(){
		var This=$(this);
		smenu=setTimeout(function(){This.children(".sub-menu").fadeIn();},200);
		}).mouseout(function(){
				clearTimeout(smenu);
	});
	$('#menu-nav>li').mouseleave(function(){
		$(this).children(".sub-menu").hide();
	});
	$('.nav-search').click(function(e){
		$("#search-bar").fadeToggle();
		$("#search-input").focus();
		e.stopPropagation();
	});
	
	//热门标签交互
	$('.tagcloud-down').mouseover(function(){
		b=setTimeout(function(){
					$(".tagcloud_hide").slideDown();},200) ;
					}).mouseout(function(){
               				clearTimeout(b);
	});
	$('#popular-tags').mouseleave(function(){
		$(".tagcloud_hide").slideUp();	
	});
	$('#comment,.aw-invite-dropdown,.share-list,#search-bar').on("click",function(e){
		e.stopPropagation();
	});
	$('body').click(function(){
		if($(".comments-text-content").is(":visible")==true){
			$(".comments-text").hide();
		}
		$(".sub-menu-view,.aw-invite-dropdown,.share-list,#search-bar,").hide();
	});	
        //注销账号向下滑动交互
	$(".user-hover").mouseover(function(){
               b=setTimeout(function(){
					$(".user-click").css("background","#F93F17");    
					$(".user-hide").slideDown();},200) ;
              			}).mouseout(function(){
               				clearTimeout(b);
	});
	$('.user-hover').mouseleave(function(){
					$(".user-click").css("background","none");
					$(".user-hide").css("display","none");
	});
	$('.user-hover-fixed').mouseover(function(){
		 b=setTimeout(function(){
					$('.user-hover-fixed').children(".user-click").css("background","#F7F7F7");    
					$(".user-hide-fixed").slideDown();},200) ;
				}).mouseout(function(){
					 clearTimeout(b);
	});
	$('.user-hover-fixed').mouseleave(function(){
			$(this).children(".user-click").css("background","none");
			$(".user-hide-fixed").css("display","none");
		});
	$('.video-info-hide a').click(function(){
			$('.video-info-hide .info-hide').slideToggle();
			if($(this).hasClass('hw-on')) 
			{
				$(this).removeClass('hw-on');
				$(this).text("查看详情");
			}else{
				$(this).addClass('hw-on');
				$(this).text("收起");
			}						
	});
});
//评论跳转链接
$(function(){ 
	var url = window.location.toString(); 
	var id = url.split("#")[1]; 
	if($("#"+id).size()){ 
		$("body,html").animate({scrollTop:$("#"+id).offset().top-100});
	}
});
<!--end-->

	function logged_out(){
		}
	function load_tc_overlay(){
		if($.cookie('tc_overlay')){
			$('#tc_overlay').hide();
			$('.tc-ad').hide();
		}
		else{
			$('#tc_overlay').show();
			$('.tc-ad').show();
		}
	}
	function disabledMouseWheel() { 
		console.log("HHHHH"); 
		  if (document.addEventListener) {  
		    document.addEventListener('DOMMouseScroll', scrollFunc, false);  
		  }//W3C  
		  window.onmousewheel = document.onmousewheel = scrollFunc;//IE/Opera/Chrome  
		}  
		function scrollFunc(evt) {  
		  return false;  
		}
	$(function(){
		$('.nav-m-display').click(function(){

			$('#nav-mobile-sdnlab').show();
			$('.nav-m-sdnlab').show();
			$('.nav-m-sdnlab-meun').show();
			$('.nav-m-sdnlab-meun').animate({right:'200px'});
			$('.nav-m-sdnlab-meun').css("position","relative");
			$('.footer-wh').hide();
		});
	});
	
	
	$(function(){
		$('.tc-closebtn,.tc-link').click(function(){
			$('#tc_overlay').hide();
			$('#nav-mobile-sdnlab').hide();
			$('.nav-m-sdnlab').hide();
			$('.nav-m-sdnlab-meun').hide();
			$('body').css("height","100%");
			$('body').css("position","relative");
			$('.tc-ad').hide();
			var expiresDate= new Date();
				expiresDate.setTime(expiresDate.getTime() + (48*60 * 60 * 1000));
				$.cookie('tc_overlay',expiresDate,{ expires: expiresDate });
		});
	});
	window.onload=window_load_func;
	 function window_load_func(){
		logged_out();
		set_curennt_cat_style_mobile();
		XXXX();
		try{ 
			if(get_account_templates&&typeof(get_account_templates)=="function"){
				get_account_templates(window.location.hash);
			}
		}catch(e){ 
		} 
		load_tc_overlay();
	 }
	 function XXXX (){
		 $("#main-reg-register input").attr("value","");
		 }
	 
	function set_curennt_cat_style_mobile(){
        	}
	
	function logged_in(){
			}

	function contest_logged_in(){
			}
</script>
<script type="text/javascript">
if( !('placeholder' in document.createElement('input')) ){   
    $('input[placeholder],textarea[placeholder]').each(function(){    
      var that = $(this),    
          text= that.attr('placeholder'),
          $pwdText = $("<input type='text' cname='password' class='pwdtext txtfield user_pwd1' />");    
      if(that.val()===""){    
          if(that.attr("type")==="password") {
              $pwdText.val(text).insertAfter(that);
              that.hide();
          } else {
              that.val(text);     
          }                      
      } 
      $(".pwdtext").focus(function(){
          $(this).hide();
          $(this).prev("input[type='password']").show().focus();
          
      });   
      that.focus(function(){    
            if(that.val()===text){                                      
                that.val("");    
            }    
      })  
      .blur(function(){    
            if(that.val()===""){   
                  if(that.attr("type")==="password") {
                           that.next().show();
                           that.hide();
                        }     
                  that.val(text);    
            }    
      });        
    });    
  }   
</script>
<script type="text/javascript"> 
	$(document).ready(function(){	
		$('#slides').slides({
			//preload: true,
			//preloadImage: 'images/ajax-loader.gif',
			effect: 'slide',
			play: 5000,
			pause: 2500,
			hoverPause: true,
			
		});
	});
	
</script>
<script type="text/javascript">
$(function(){
	$(".slides li .caption-wrap").each(function(){
		var caption = $(this).children().html();
		if(caption == null){
			$(this).css("display","none");
		}
	});
});//首页滑块无标题与围观数时的显示方式
</script> 
<script type="text/javascript">
(function($){
	$.getUrlParam = function(name){
		var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
		var r = window.location.search.substr(1).match(reg);
		if (r!=null) return unescape(r[2]); return null;
		}
	})(jQuery);
	$(document).ready(function(){
		var itemValue=$.getUrlParam("item");
		var cityValue=$.getUrlParam("city");
		$('.item-menu li').removeClass('city-current');
		$('.city-menu li').removeClass('city-current');
		if (itemValue==null){
			$('.all-data').addClass('city-current');
		}else if(itemValue=='control-plane'){
			$('.control-plane').addClass('city-current');
		}else if(itemValue=='data-plane'){
			$('.data-plane').addClass('city-current');
		}else if(itemValue=='application'){
			$('.application').addClass('city-current');
		}else if(itemValue=='nfv'){
			$('.nfv').addClass('city-current');
		}else if(itemValue=='network-virtualization'){
			$('.virtualization').addClass('city-current');
		}
		if (cityValue==null){
			$('.all-city').addClass('city-current');
		}else if(cityValue=='beijing'){
			$('.beijing').addClass('city-current');
		}else if(cityValue=='shanghai'){
			$('.shanghai').addClass('city-current');
		}else if(cityValue=='guangzhou'){
			$('.guangzhou').addClass('city-current');
		}else if(cityValue=='shenzhen'){
			$('.shenzhen').addClass('city-current');
		}else if(cityValue=='nanjing'){
			$('.nanjing').addClass('city-current');
		}else if(cityValue=='hangzhou'){
			$('.hangzhou').addClass('city-current');
		}else if(cityValue=='chengdu'){
			$('.chengdu').addClass('city-current');
		}else if(cityValue=='wuhan'){
			$('.wuhan').addClass('city-current');
		}else if(cityValue=='suzhou'){
			$('.suzhou').addClass('city-current');
		}else if(cityValue=='other'){
			$('.other').addClass('city-current');
		}	
});
function account_favorite_action(){
	id=$('.wps-share').attr('data-user');
	post=$('.wps-share').attr('data-post');
	if(id!=0)
		$.ajax({
			url: '?action=account_favorite_action',
			type: 'post',
			data : {'post':post},
			success: function(a) {
				if(a.status==1){
					if(a.favorited){
						$('.wps').show();
						$('.wps-click').hide();
						$('.wps-share').addClass('wp_favorite');
						$('.wps-share').removeClass('wp_favorited');
						$('.wps-share').attr('title','收藏');
					}
					else{
						$('.wps').hide();
						$('.wps-click').show();
						$('.wps-share').addClass('wp_favorited');
						$('.wps-share').removeClass('wp_favorite');
						$('.wps-share').attr('title','取消收藏');
					}
					$('.favorite_count').text(a.count);
				}
				else{
					alert('收藏失败');
				}
			}
		});
}

</script>
<script type="text/javascript"> 


$('.nav-m-display').click(function(){
	$('#article-bar').hide();
});

$(document).ready(function(){
		/* $('#s').focusin(function(){
			var val = $(this).val();
			if(val == '请输入搜索内容...'){
				$(this).val('');
			}
		}); */
		
		/* $('#s').focusout(function(){
			var val = $(this).val();
			if(val == ''){
				$(this).val('请输入搜索内容...');
			}
		}); */
		
		$('#weeknews_triger').click(function(){
			$('#weeknews').animate({
				height: '293'
			});
			$('#medianews').animate({
				height: '40'
			});
		});
		
		$('#medianews_triger').click(function(){
			$('#weeknews').animate({
				height: '40'
			});
			$('#medianews').animate({
				height: '293'
			});
		});
		
		$('.link2home').hover(function(){
			$(this).css('background-position','0 -30px');
			$('body').animate({backgroundPosition: '0 0'});
                        $('#header_top_nav a').hide();
                        $('#header_top_nav a.more').show();
			$('#header_top_nav').animate({height: 20});
		});
                
         $('.imp_news').hover(function(){
			$('body').animate({backgroundPosition: '0 0'});
                        $('#header_top_nav a').hide();
                        $('#header_top_nav a.inews').show();
			$('#header_top_nav').animate({height: 20});
		});
                
         $('.camp_news').hover(function(){
			$('body').animate({backgroundPosition: '0 0'});
                        $('#header_top_nav a').hide();
                        $('#header_top_nav a.cnews').show();
			$('#header_top_nav').animate({height: 20});
		});
	
		$('#ad-slides').slides({
			//preload: true,
			//preloadImage: 'images/ajax-loader.gif',
			effect: 'slide',
			play: 4000,
			pause: 2500,
			hoverPause: true,
			
			/* play: {
		          active: true,
		          auto: true,
		          interval: 4000,
		          swap: true
		        } */
			
		});

    $('#ad-slides-conf').slides({
        //preload: true,
        //preloadImage: 'images/ajax-loader.gif',
        effect: 'slide',
        play: 4000,
        pause: 2500,
        hoverPause: true,

        /* play: {
              active: true,
              auto: true,
              interval: 4000,
              swap: true
            } */

    });
		
// 		 $('#ad-slides').hover(function(){
// 			$('.ad-hide').fadeToggle("slow");
// 		});

    $('#ad-slides-adv').slides({
        //preload: true,
        //preloadImage: 'images/ajax-loader.gif',

        effect: 'slide',
        play: 4000,
        pause: 2500,
        hoverPause: true,

        /* play: {
         active: true,
         auto: true,
         interval: 4000,
         swap: true
         } */

    });
//     $('#ad-slides-adv').hover(function(){
//         $('.ad-hide1').fadeToggle("slow");
//     });

		 $('#ad-slides1').slides({
				//preload: true,
				//preloadImage: 'images/ajax-loader.gif',
				
				effect: 'slide',
				play: 4000,
				pause: 2500,
				hoverPause: true,

				/* play: {
			          active: true,
			          auto: true,
			          interval: 4000,
			          swap: true
			        } */
				
			});
// 			 $('#ad-slides1').hover(function(){
// 				$('.ad-hide1').fadeToggle("slow");
// 			});
		$('#slider').hover(function(){
			$('.prev').fadeToggle("slow");
			$('.next').fadeToggle("slow");
		}); 
		  
		$('.news-row-article').children("h4").click(function(){
			$(this).siblings(".news-row-article-hidden").slideToggle("fast");
		});
		$('.news-row-article-up').click(function(){
			$(this).parents(".news-row-article-hidden").slideUp("fast");
		});
 });	
</script> 
<!-- END login script-->

<script  type="text/javascript">
function request_testbed() {
}

$(function(){

    function sync_login_page_metadata(){

        $.ajax({
            url:"https://www.sdnlab.com/my_sdnlab/cache-refresh/issuance",
            data:{},
            type:'post',
            async: false,
            beforeSend: function() {},
            error: function(a) {},
            success: function(result) {

                if(result.succeed){

                    sms_send_token = result.token;
                    account_setting_set_phone = result.set_phone;
                    account_setting_set_email = result.set_email;

                } else {

                    alert(result.error_msg);

                }

            }

        });

    }

    if(is_user_logged_in()){
        sync_login_page_metadata();
    }

});


function saveToken(options){

    $.ajax({
        url:"?action=save_token",
        data:{},
        type:'post',
        async: false,
        beforeSend: function() {},
        error: function(a) {},
        success: function(result) {

            if(result.succeed){

                window.open(result.url);

            } else {
                alert(result.error_msg);
            }

        }

    });
}

function start_2C_experiment(){

    $.ajax({
        url:"?action=start_experiment_2C",
        data:{},
        type:'post',
        async: false,
        beforeSend: function() {},
        error: function(a) {},
        success: function(result) {

            if(result.succeed){

                window.open(result.url);

            } else {
                alert(result.msg);
            }

        }

    });
}

function ajaxRequestTestbed(options){
		$.ajax({
		url: "http://58.213.119.21:8090/knock/",
		data : {"username": options.username,"userlogin":options.userlogin,"userpass":options.userpass,"useremail":options.useremail,"token":options.token},
		type: 'post',
		dataType: 'jsonp',
		jsonp: "callback",
		beforeSend: function() {
		},
		error: function(a) {
			console.log(a);
			//alert(a.result.code);
			//if(a.result.code == -1)
			{
				//window.location.href="http://www.guokr.com/";
			}
		}, 
		success: function(a) {
			console.log(a);
			//alert(a.result.code);//alert(a['result']['code']);
			//if(a.result.code == -1)
			{
				//window.location.href="http://www.baidu.com";
				//callback();
				//ajaxRequestTestbedSec();
			}
			
		}
	});
}

<!-- SYNC_PWD-->
	function sync_pwd(a) {
		console.log('func sync begin');
			
		saveTokenSyncPwd({
			username:a.username,
			token:"5c14425a-af20-b5d7-88fd-3f654da6c239",
			newpara:a.newpara,
			userlogin:a.userlogin,
			useremail:a.useremail,
		});
	}

	function saveTokenSyncPwd(options){
		$.ajax({
			url:"?action=save_token",
			data:{"username": options.username,"token":options.token},
			type:'post',
			beforeSend: function() {
			},
			error: function(a) {
			}, 
			success: function(a) {
				requestSyncPwd({
					username:options.username,
					userlogin:options.userlogin,
					userpass:options.newpara,
					useremail:options.useremail,
					token:options.token
					});
				}
			});
	}

	function requestSyncPwd(options){
				
		$.ajax({
			url: "http://58.213.119.21:8090/sync_pwd/",
			data : {"username": options.username,"userlogin":options.userlogin,"userpass":options.userpass,"useremail":options.useremail,"token":options.token},
			type: 'post',
			dataType: 'jsonp',
			jsonp: "callback",
			jsonpCallback : "sync_pwd_callback",
			beforeSend: function() {
			},
			error: function(a) {
			}, 
			success: function(a) {
			}
		});
	}

	function sync_pwd_callback(a){
		console.log('func sync_callback');
		console.log(a.result.code);
	}

	
<!-- Flooat start by MXj-->
		var nav = document.getElementById('nav-wrapper-bg');
		var navFixed = document.getElementById('nav-wrapper-bg-fixed');
		var ArticleBar = document.getElementById('article-bar');
		var Comments = document.getElementById('comments');
		var WindowHeight = $(window).height();
		if ($("#code").size()){var codeTop = $("#code").offset().top;}
window.onscroll = function () {
        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        if (nav != null && scrollTop > nav.offsetTop+80) {
                 navFixed.style.display = 'block';
             } else if ( nav != null && scrollTop < nav.offsetTop+10) {
                 navFixed.style.display = 'none';
             }
	    if (scrollTop >= codeTop -65) {
			$("#code").parents(".textwidget").addClass("codefixed");
	     }else{
			$("#code").parents(".textwidget").removeClass("codefixed");
	     }
	     if (ArticleBar&&Comments!=null && scrollTop > Comments.offsetTop-WindowHeight) {
		 	ArticleBar.style.display= 'none';
		} else if (ArticleBar&&Comments!=null && scrollTop < Comments.offsetTop-WindowHeight){
			ArticleBar.style.display= 'block';
		}
}
        var cac=setTimeout(function(){
	$("#ueditor_0").load(function() { 
		$("#ueditor_0").contents().find("body.view").click(function(){
                        $(".cntctfrm_error_text_message").val("");
			$('.cntctfrm_error_text_message').hide();
		});
	});
       },100);
	if($.browser.msie && parseInt($.browser.version) == 8){
        $(".premp-ul li:nth-child(even)").css("float", "right");
     }
<!-- Flooat end -->

<!-- 统计slide点击次数-->
function countClickNumReq(options){
	$.ajax({
		url: "?action=count_slide_clicknum",
		data : {"sid":options.sid},
		type: 'get',
		beforeSend: function() {
			
		},
		error: function(a) {
		},
		success: function(a) {
		}
	});
}
(function($){ 
	jQuery(".sidebar-top-article-head").click(function(){
		$('.sidebar-top-article-head').removeClass('current');
		$(this).addClass('current');
		
		$('.articlelist').hide();
		$("."+$(this).attr("data-stat-click")).show();
	});
	
})(jQuery); 


//菜单内容更新提示
(function($){
	
	var className='ringing';
	$('.sub-menu li').each(function(index){
		if($(this).children('a').hasClass(className)){
			if(!$(this).parent().siblings('a').hasClass(className)){
				$(this).parent().siblings('a').addClass(className)
			}
		}
	});
})(jQuery); 
</script>

		<script type="text/javascript">
			$(".share_defind_unlogin").click(function(){ 
			  	$(".collect-tips").fadeIn();
			  	timedMsg();  
		   
		  });

			function timedMsg()
			  {
			  var t=setTimeout("$('.collect-tips').fadeOut()",2000)
			  }
</script>

<script type=text/javascript>
		$(function() {
		    var index = 0;
		    var adtimer;
		    var _wrap = $("#container-ad ol"); //
		    var len = $("#container-ad ol li").length;
		    //len=1;
		    if (len > 1) {
		        $("#container-ad").hover(function() {
		            clearInterval(adtimer);
		        },
		        function() {
		            adtimer = setInterval(function() {
		
		                var _field = _wrap.find('li:first'); //此变量不可放置于函数起始处,li:first取值是变化的
		                var _h = _field.height(); //取得每次滚动高度(多行滚动情况下,此变量不可置于开始处,否则会有间隔时长延时)
		                _field.animate({
		                    marginTop: -_h + 'px'
		                },
		                500,
		                function() { //通过取负margin值,隐藏第一行
		                    _field.css('marginTop', 0).appendTo(_wrap); //隐藏后,将该行的margin值置零,并插入到最后,实现无缝滚动
		                })
		
		            },
		            5000);
		        }).trigger("mouseleave");
		        function showImg(index) {
		            var Height = $("#container-ad").height();
		            $("#container-ad ol").stop().animate({
		                marginTop: -_h + 'px'
		            },
		            1000);
		        }
		    }
		});
</script>	
		
	
<script type="text/javascript">
		//$(document).ready(function(){//页面加载完之后，自动执行该方法
		//setTimeout(function(){$(".tc-banner-adphone").slideUp(1500);},10000);//手机端几秒消失
		//});
		$(function(){
		$(".title-content-c").click(function(e){
		$(".title-content-c").removeClass("title-content-click");
		$(this).addClass("title-content-click");
		
	})
});
</script>



		<script type="text/javascript">
			$(document).ready(function(){

				var isMobile = {
					Android: function() {
						return navigator.userAgent.match(/Android/i) ? true : false;
					},
					BlackBerry: function() {
						return navigator.userAgent.match(/BlackBerry/i) ? true : false;
					},
					iOS: function() {
						return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false;
					},
					Windows: function() {
						return navigator.userAgent.match(/IEMobile/i) ? true : false;
					},
					any: function() {
						return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Windows());
					}
				};
				 if(isMobile.any()){
					 $('.scroll_fixed .qr_codes').css('display','none');
				 }
			});
		</script>

	
        
                <script type="text/javascript">

                    $(document).ready(function(){//页面加载完之后，自动执行该方法
                        loadSingePostView();
                    });

                    function loadSingePostView(){

                        $.ajax({
                            cache: false,
                            type: "POST",
                            url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/post-views',
                            data:{
                                type : 'single',
                                post_id : 15128                            },
                            async: true,
                            error: function(request) {
                            },
                            success: function(data) {

                                
                                var postView = "<span>•</span>"+(data.post_views+1)+" 人围观";
                                $('.entry-meta').children('span[itemprop=interactionCount]').html(postView);

                                
                            }
                        });
                    }
                </script>

            
        
                <script type="text/javascript">

                    $(document).ready(function(){
                        flushReleatedPosts();
                    });

                    function getReleatedPostsIDs(){

                        var releatedPosts = new Array();

                        $('.course-mutual').find('ul').children().each(function (index,elem) {

                            var art_id = parseInt($(elem).find('a').attr('href').match(/(\d+)\.html/)[1]);
                            releatedPosts[index] = art_id;

                        });

                        return releatedPosts;
                    }

                    function flushReleatedPosts(){

                        var releated_data = getReleatedPostsIDs();
                        $.ajax({
                            cache: false,
                            type: "POST",
                            url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/post-views',
                            data:{
                                type : 'group',
                                group_posts:{
                                    top:releated_data
                                }
                            },
                            async: true,
                            error: function(request) {
                            },
                            success: function(data) {

                                $('.course-mutual').find('ul').children().each(function (index,elem) {

                                    var art_id = parseInt($(elem).find('a').attr('href').match(/(\d+)\.html/)[1]);
                                    var viewDisplay = $(elem).find('span[class=mutual-view]');

                                    $(data.top).each(function (i,e) {
                                        if(art_id == e.post_id){
                                            viewDisplay.html(e.post_views+'&nbsp;人浏览');
                                            return;
                                        }
                                    });

                                });

                            }
                        });

                    }

                </script>

        


    <script type="text/javascript">

        $(document).ready(function(){

            if($('.list-week').length > 0){
                flushTopArtViews();
            }

        });

        function getTopArtViewsIds(){

            /** 热门统计-周排行 **/
            var week_top = $('.list-week');
            var week_top_data = new Array();
            week_top.children().each(function (index,element) {

                if($(element).html()=='没有数据') return;
                var child_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                week_top_data[index] = child_id;

            });

            /** 热门统计-月排行 **/
            var month_top = $('.list-month');
            var month_top_data = new Array();
            month_top.children().each(function (index,element) {

                if($(element).html()=='没有数据') return;
                var child_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                month_top_data[index] = child_id;

            });

            /** 热门统计-总排行 **/
            var year_top = $('.list-year');
            var year_top_data = new Array();
            year_top.children().each(function (index,element) {

                if($(element).html()=='没有数据') return;
                var child_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                year_top_data[index] = child_id;

            });

            var obj= new Object();
            obj.list_week = week_top_data;
            obj.list_month = month_top_data;
            obj.list_year = year_top_data;

            return obj;
        }

        function flushTopViews(topviews_class,postview_data){

            $(topviews_class).children().each(function (index,element) {

                if($(element).html()=='没有数据') return;

                var item_id = parseInt($(element).find('a').attr('href').match(/(\d+)\.html/)[1]);
                var viewDisplay = $(element).find('span:eq(2)');

                $(postview_data).each(function (i,e) {
                    if(item_id == e.post_id){
                        viewDisplay.html(e.post_views);
                        return;
                    }
                });

            });
        }

        function loadTopArtViewsIds(data){
            flushTopViews('.list-week',data.week_top_data);
            flushTopViews('.list-month',data.month_top_data);
            flushTopViews('.list-year',data.year_top_data);
        }

        function flushTopArtViews(){

            var ids = getTopArtViewsIds();

            $.ajax({
                cache: false,
                type: "POST",
                url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/post-views',
                data:{
                    type : 'group',
                    group_posts : {
                        week_top_data:ids.list_week,
                        month_top_data:ids.list_month,
                        year_top_data:ids.list_year
                    }
                },
                async: true,
                error: function(request) {
                },
                success: function(data) {
                    loadTopArtViewsIds(data);
                }

            });
        }

    </script>



<script type="text/javascript">

    //读取cookies
    function getCookieValue(name) {
        var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");
        if(arr=document.cookie.match(reg))
            return (unescape(arr[2]));
        else
            return null;
    }

    //获取当前日期 年-月-日
    function getNowFormatDate() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
//            var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
//                + " " + date.getHours() + seperator2 + date.getMinutes()
//                + seperator2 + date.getSeconds();
        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate;
        return currentdate;
    }

    //获取当前时间戳 年-月-日 时:分:秒
    function getCurrentTimeStamp() {
        var date = new Date();
        var seperator1 = "-";
        var seperator2 = ":";
        var month = date.getMonth() + 1;
        var strDate = date.getDate();
        if (month >= 1 && month <= 9) {
            month = "0" + month;
        }
        if (strDate >= 0 && strDate <= 9) {
            strDate = "0" + strDate;
        }
        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
            + " " + date.getHours() + seperator2 + date.getMinutes()
            + seperator2 + date.getSeconds();
        return currentdate;
    }

    //删除左右两端的空格
    function trim(str){
        return str.replace(/(^s*)|(s*$)/g, "");
    }

    //删除左边的空格
    function ltrim(str){
        return str.replace(/(^s*)/g,"");
    }

    //删除右边的空格
    function rtrim(str){
        return str.replace(/(s*$)/g,"");
    }

    //变量是否为空
    function is_variable_null(variable){
        if (variable === null || variable === undefined || variable === '') {
            return true;
        } else {
            return false;
        }
    }

    //判断字符串是否为空
    function is_string_null(str){
        return is_variable_null(trim(str));
    }

    //判断用户是否登录
    function is_user_logged_in(){

        var  logged_token = getCookieValue('logged_in_token');
        var  logged_info = getCookieValue('logged_info');

        if(!is_variable_null(logged_token) && !is_variable_null(logged_info)
        && !is_string_null(logged_token) && !is_string_null(logged_info)){

            logged_info = $.parseJSON(new Base64().decode(logged_info));

            //如果用户头像为空，则使用默认头像
            if(is_string_null(logged_info.head_img)){

                logged_info.head_img = 'https://www.sdnlab.com/my_sdnlab/wp-content/themes/presscore-pro/img/users_logo/1.png';

            }

            return logged_info;

        } else {

            return false;

        }
    }

    //当前登录用户登陆状态是否有效
    function is_user_login_valid(){

        var is_valid = false;

        if(is_user_logged_in()){

            var  logged_token = getCookieValue('logged_in_token');
            var  logged_info = getCookieValue('logged_info');
            logged_info = $.parseJSON(new Base64().decode(logged_info));

            $.ajax({
                cache: false,
                type: "POST",
                url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/login-auth',
                data:{
                    user_id : logged_info.user_id,
                    token : logged_token
                },
                async: false,
                error: function(request) {},
                success: function(data) {

                    if(!data.auth_result){
                        console.log(data.error_msg);
                    } else {
                        is_valid = true;
                    }
                }
            });

        }

        return is_valid;

    }

    function Base64() {

        // private property
        _keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

        // public method for encoding
        this.encode = function (input) {
            var output = "";
            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
            var i = 0;
            input = _utf8_encode(input);
            while (i < input.length) {
                chr1 = input.charCodeAt(i++);
                chr2 = input.charCodeAt(i++);
                chr3 = input.charCodeAt(i++);
                enc1 = chr1 >> 2;
                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
                enc4 = chr3 & 63;
                if (isNaN(chr2)) {
                    enc3 = enc4 = 64;
                } else if (isNaN(chr3)) {
                    enc4 = 64;
                }
                output = output +
                    _keyStr.charAt(enc1) + _keyStr.charAt(enc2) +
                    _keyStr.charAt(enc3) + _keyStr.charAt(enc4);
            }
            return output;
        }

        // public method for decoding
        this.decode = function (input) {
            var output = "";
            var chr1, chr2, chr3;
            var enc1, enc2, enc3, enc4;
            var i = 0;
            input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
            while (i < input.length) {
                enc1 = _keyStr.indexOf(input.charAt(i++));
                enc2 = _keyStr.indexOf(input.charAt(i++));
                enc3 = _keyStr.indexOf(input.charAt(i++));
                enc4 = _keyStr.indexOf(input.charAt(i++));
                chr1 = (enc1 << 2) | (enc2 >> 4);
                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
                chr3 = ((enc3 & 3) << 6) | enc4;
                output = output + String.fromCharCode(chr1);
                if (enc3 != 64) {
                    output = output + String.fromCharCode(chr2);
                }
                if (enc4 != 64) {
                    output = output + String.fromCharCode(chr3);
                }
            }
            output = _utf8_decode(output);
            return output;
        }

        // private method for UTF-8 encoding
        _utf8_encode = function (string) {
            string = string.replace(/\r\n/g,"\n");
            var utftext = "";
            for (var n = 0; n < string.length; n++) {
                var c = string.charCodeAt(n);
                if (c < 128) {
                    utftext += String.fromCharCode(c);
                } else if((c > 127) && (c < 2048)) {
                    utftext += String.fromCharCode((c >> 6) | 192);
                    utftext += String.fromCharCode((c & 63) | 128);
                } else {
                    utftext += String.fromCharCode((c >> 12) | 224);
                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                    utftext += String.fromCharCode((c & 63) | 128);
                }

            }
            return utftext;
        }

        // private method for UTF-8 decoding
        _utf8_decode = function (utftext) {
            var string = "";
            var i = 0;
            var c = c1 = c2 = 0;
            while ( i < utftext.length ) {
                c = utftext.charCodeAt(i);
                if (c < 128) {
                    string += String.fromCharCode(c);
                    i++;
                } else if((c > 191) && (c < 224)) {
                    c2 = utftext.charCodeAt(i+1);
                    string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
                    i += 2;
                } else {
                    c2 = utftext.charCodeAt(i+1);
                    c3 = utftext.charCodeAt(i+2);
                    string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
                    i += 3;
                }
            }
            return string;
        }
    }

</script>


<script type="text/javascript">

    $('#nav-pc-platform-inlet').hide();
    $('#nav-mobile-platform-inlet').hide();
    $('.nav-m-displayb').show();

    $(document).ready(function(){

        var logged_info = is_user_logged_in();

        if(logged_info != false){//已登陆

            $('#unlogin_pc').remove();
            $('.unlogin_mobile').remove();

            $('#user-head-img-pc').attr('src',logged_info.head_img);
            $('#user-name-pc').text(logged_info.display_name);
            $('#afterlogin_pc').show();

            $('#user-head-img-mobile').attr('src',logged_info.head_img);
            $('#user-name-mobile').text(logged_info.display_name);
            $('#afterlogin_mobile').css('display','inline-block');
            $('#logout_mobile').show();

            $('#nav-pc-video-inlet').show();

            if(logged_info.is_platform){// 实验平台用户，显示高校入口

                $('#nav-pc-platform-inlet').attr('href', logged_info.platform_inlet_url);
                $('#nav-mobile-platform-inlet').attr('href', logged_info.platform_inlet_url);

//                $('#nav-pc-platform-inlet').html('高校入口');
//                $('#nav-mobile-platform-inlet').html('高校入口');

                $('#nav-pc-platform-inlet').show();
                $('#nav-mobile-platform-inlet').show();

            } else {//不是实验平台用户，隐藏高校入口

                $('#nav-pc-platform-inlet').remove();
                $('#nav-mobile-platform-inlet').remove();
            }


            if(account_setting_set_phone == false){
                $('#real_name_certification_top_tips').show();
            } else {
                $('#real_name_certification_top_tips').remove();
            }

            //移动端注销显示
            $('#mob_nav_logout').show();



        }else {//未登录

            $('#afterlogin_pc').hide();

            $('#afterlogin_mobile').show();
            $('#logout_mobile').hide();

            // 高校入口
            $('#nav-pc-video-inlet').parent().parent().parent().remove();
            $('#nav-pc-platform-inlet').parent().remove();
            $('#nav-mobile-platform-inlet').remove();

//            $('#nav-pc-platform-inlet').remove();


            //实名认证提示条 去除
            $('#real_name_certification_top_tips').remove();

            //移动端注销去除
            $('#mob_nav_logout').remove();

        }

    });
</script>



    <script type="text/javascript">

        wx.config({

            debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。

            appId: 'wxd1393abc52fbb9fd', // 必填，公众号的唯一标识

            timestamp: 1523945848, // 必填，生成签名的时间戳

            nonceStr: 'PDFQvaNenKkXabNe', // 必填，生成签名的随机串

            signature: '27ffa136585b7be50e30343c7ffab45d0177fb77',// 必填，签名，见附录1

            jsApiList: [
                'onMenuShareTimeline',//分享到朋友圈
                'onMenuShareAppMessage',//分享给朋友
                'onMenuShareQQ',//分享到QQ
                'onMenuShareWeibo',//分享到腾讯微博
                'onMenuShareQZone'//分享到QQ空间
            ]

        });


    wx.ready(function() {

        //分享到朋友圈
        wx.onMenuShareTimeline({

            title: 'Mininet多个数据中心的拓扑网络实现', // 分享标题

            link: 'https://www.sdnlab.com/15128.html', // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致

            imgUrl: 'https://https://img1.sdnlab.com/wp-content/uploads/2015/07/图表-1-基于两个数据中心的网络拓扑.png', // 分享图标

            success: function () {
                // 用户确认分享后执行的回调函数
            },

            cancel: function () {
                // 用户取消分享后执行的回调函数
            }

        });

        //分享给朋友
        wx.onMenuShareAppMessage({

            title: 'Mininet多个数据中心的拓扑网络实现', // 分享标题

            desc: '', // 分享描述

            link: 'https://www.sdnlab.com/15128.html', // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致

            imgUrl: 'https://https://img1.sdnlab.com/wp-content/uploads/2015/07/图表-1-基于两个数据中心的网络拓扑.png', // 分享图标

            type: 'link', // 分享类型,music、video或link，不填默认为link

            dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

        //分享到QQ
        wx.onMenuShareQQ({

            title: 'Mininet多个数据中心的拓扑网络实现', // 分享标题

            desc: '', // 分享描述

            link: 'https://www.sdnlab.com/15128.html', // 分享链接

            imgUrl: 'https://https://img1.sdnlab.com/wp-content/uploads/2015/07/图表-1-基于两个数据中心的网络拓扑.png', // 分享图标

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

        //分享到腾讯微博
        wx.onMenuShareWeibo({

            title: 'Mininet多个数据中心的拓扑网络实现', // 分享标题

            desc: '', // 分享描述

            link: 'https://www.sdnlab.com/15128.html', // 分享链接

            imgUrl: 'https://https://img1.sdnlab.com/wp-content/uploads/2015/07/图表-1-基于两个数据中心的网络拓扑.png', // 分享图标

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

        //分享到QQ空间
        wx.onMenuShareQZone({

            title: 'Mininet多个数据中心的拓扑网络实现', // 分享标题

            desc: '', // 分享描述

            link: 'https://www.sdnlab.com/15128.html', // 分享链接

            imgUrl: 'https://https://img1.sdnlab.com/wp-content/uploads/2015/07/图表-1-基于两个数据中心的网络拓扑.png', // 分享图标

            success: function () {

                // 用户确认分享后执行的回调函数

            },

            cancel: function () {

                // 用户取消分享后执行的回调函数

            }

        });

    });

    </script>


<script type="text/javascript">

    $(document).ready(function(){

        var logged_info = is_user_logged_in();

        // 判断用户是否登录，根据登录状态进行局部刷新

        // 根据登录态刷新登录提示
        if(logged_info != false){ //已登录

            //移除登录提示
            $('#comment_need_login_tips').remove();
            //启用评论添加框
            $('#comment').removeAttr('disabled');
            //启用评论添加按钮
            $('#submit').removeAttr('disabled','');

        } else { //未登录

            //显示登录提示
            $('#comment_need_login_tips').show();
            //禁用评论添加框
            $('#comment').attr('disabled','');
            //禁用评论添加按钮
            $('#submit').attr('disabled','');

        }


        //加载文章底部评论列表
        loadFlushSingleComments();

    });

    //加载文章评论并刷新dom元素
    function loadFlushSingleComments(){

        //加载文章评论
        $.ajax({
            cache: false,
            type: "POST",
            url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/comments-refresh',
            data:{
                type : 'single',
                post_id : 15128            },
            async: true,
            error: function(request) {
            },
            success: function(data) {

                data = $.parseJSON(data);

                $('#num_comment').html(data.count);
                $('#comments_content').html(data.html);

            }
        });

    }



</script>


<script type="text/javascript">

    $(document).ready(function(){

        //加载文章收藏按钮
        loadPostFavoriteStatus();

    });

    //加载文章收藏按钮
    function loadPostFavoriteStatus(){

        //加载文章收藏按钮html
        $.ajax({
            cache: false,
            type: "POST",
            url:'https://www.sdnlab.com/my_sdnlab/cache-refresh/favorite-refresh',
            data:{
                type : 'single',
                post_id : 15128            },
            async: true,
            error: function(request) {
            },
            success: function(data) {

                $('.share_defind').append(data);

            }
        });

    }



</script>


</body>
</html>
